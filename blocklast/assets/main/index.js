System.register("chunks:///_virtual/AdaptToScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,o,s,n,r,a,c,h,l;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){n=t.cclegacy,r=t._decorator,a=t.Enum,c=t.view,h=t.UITransform,l=t.Component}],execute:function(){var p,f,u,d,g,y,b;n._RF.push({},"d1cf15xaJBNx5k3+BWaqKIs","AdaptToScreen",void 0);var v=r.ccclass,m=r.property;t("AdaptToScreen",(p=v("AdaptToScreen"),f=m({type:a({Top:0,Down:1,Left:2,Right:3})}),p((g=i((d=function(t){function i(){for(var i,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return i=t.call.apply(t,[this].concat(n))||this,o(i,"position",g,s(i)),o(i,"offset",y,s(i)),o(i,"scale",b,s(i)),i}e(i,t);var n=i.prototype;return n.start=function(){this.adaptToScreen()},n.adaptToScreen=function(){var t=c.getVisibleSize().height,i=c.getVisibleSize().width;console.log(t,i);var e=this.node.getComponent(h);0===this.position?(this.node.setPosition(this.node.position.x/this.scale,(t/2-e.height/2-this.offset)/this.scale),mtec.cc.is_long_screen&&this.node.setPosition(this.node.position.x/this.scale,(this.node.position.y-100-this.offset)/this.scale)):1===this.position?this.node.setPosition(this.node.position.x/this.scale,(-(t/2-e.height/2)+this.offset)/this.scale):2===this.position?this.node.setPosition((-(i/2-e.width/2)+this.offset)/this.scale,this.node.position.y/this.scale):3===this.position&&this.node.setPosition((i/2-e.width/2-this.offset)/this.scale,this.node.position.y/this.scale)},i}(l)).prototype,"position",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=i(d.prototype,"offset",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=i(d.prototype,"scale",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),u=d))||u));n._RF.pop()}}}));

System.register("chunks:///_virtual/android.client.ts",["cc","./NativeClient.ts"],(function(){var t;return{setters:[function(e){t=e.cclegacy},null],execute:function(){t._RF.push({},"423cfPlCa5KtLTDYKrFdrbS","android.client",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/audio-manager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var n,e,t,r,u,o,a,c,l,s;return{setters:[function(i){n=i.applyDecoratedDescriptor,e=i.inheritsLoose,t=i.initializerDefineProperty,r=i.assertThisInitialized,u=i.createClass},function(i){o=i.cclegacy,a=i._decorator,c=i.AudioSource,l=i.AudioClip,s=i.Component}],execute:function(){var p,_,f,m,g,b,y,d,E,A;o._RF.push({},"bdc09M6PGpByqFsr0/zS0Xm","audio-manager",void 0);var M=a.ccclass,h=a.property,B=(i("AudioManager",(p=M("AudioManager"),_=h(c),f=h(c),m=h([l]),p(((A=function(i){function n(){for(var n,e=arguments.length,u=new Array(e),o=0;o<e;o++)u[o]=arguments[o];return n=i.call.apply(i,[this].concat(u))||this,t(n,"bgm",y,r(n)),t(n,"effect",d,r(n)),t(n,"clip_list",E,r(n)),n.clip_map=new Map,n}e(n,i);var o=n.prototype;return o.onLoad=function(){n._ins=this,this.init()},o.init=function(){var i=this;this.clip_list.forEach((function(n){return i.clip_map.set(n.name,n)}))},n.playBGM=function(){n.ins.bgm.state!=c.AudioState.PLAYING&&(n.ins.bgm.clip||(n.ins.bgm.clip=n.ins.clip_map.get(B.BGM_GLOBAL),n.ins.bgm.loop=!0),n.ins.bgm.play())},n.pauseBgm=function(){n.ins.bgm.state==c.AudioState.PLAYING&&n.ins.bgm.pause()},n.playEffect=function(i){var e=n.ins.clip_map.get(i);e&&n.ins.effect.playOneShot(e)},n.mute=function(i){n.ins.bgm.volume=i?0:1,n.ins.effect.volume=i?0:1},u(n,null,[{key:"ins",get:function(){return n._ins}},{key:"EAudio",get:function(){return B}}]),n}(s))._ins=void 0,y=n((b=A).prototype,"bgm",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=n(b.prototype,"effect",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(b.prototype,"clip_list",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=b))||g)),function(i){return i.BGM_GLOBAL="ui_01",i.BGM_DEFEAT="ui_10",i.BGM_VICTORY="ui_05",i.BGM_DIAMOND="ui_11",i.EF_CLICK="ui_02",i.EF_REMOVE="ui_03",i.EF_SYMBOL="ui_04",i.EF_TRANSITION="ui_06",i.EF_SHUFFLE="ui_07",i.EF_REVOKE="ui_08",i.EF_BOARD="ui_09",i}(B||{}));o._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocalStorageMgr.ts"],(function(e){var t,o,i,u,s,c,n,d;return{setters:[function(e){t=e.createClass},function(e){o=e.cclegacy,i=e.AudioClip,u=e.assetManager,s=e.Node,c=e.director,n=e.AudioSource},function(e){d=e.LocalStorageMgr}],execute:function(){o._RF.push({},"ed06aJ/IvZK8Z8EhhcoQ2v8","AudioManager",void 0),e("AudioManager",function(){function e(){this._bgmAudioSource=void 0,this._effectAudioSource=void 0,this._effectDiAudioSource=void 0,this.bgmVolume=1,this.soundVolume=1,this._isEffectMuted=!1,this._isBGMMuted=!1,this._activeOneShotSources=new Map;var t=new s;t.name="__audioMgr__",e._ins=this,c.getScene().addChild(t),c.addPersistRootNode(t),this._bgmAudioSource=t.addComponent(n),this._effectAudioSource=t.addComponent(n),this._effectDiAudioSource=t.addComponent(n);var o=d.getItem("audio_effectMute"),i=d.getItem("audio_bgmMute");this.effectMute=null!=o&&o,this.bgmMute=null!=i&&i,this._updateBGMVolume()}var o=e.prototype;return o._updateBGMVolume=function(e){var t;e=null!=(t=e)?t:this.bgmMute,this._bgmAudioSource.volume=e?0:1},o.playOneShot=function(e,t,o){var s=this;(void 0===t&&(t=1),void 0===o&&(o="resources"),this._isEffectMuted)||(e instanceof i?this._effectAudioSource.playOneShot(e,t):u.getBundle(o).load(e,(function(e,o){e?console.log(e):s._effectAudioSource.playOneShot(o,t)})))},o.playEff=function(e,t){var o=this;(void 0===t&&(t="resources"),this._isEffectMuted)||(e instanceof i?(this._effectDiAudioSource.stop(),this._effectDiAudioSource.clip=e,this._effectDiAudioSource.loop=!1,this._effectDiAudioSource.play()):u.getBundle(t).load(e,(function(e,t){e?console.log(e):(o._effectDiAudioSource.stop(),o._effectDiAudioSource.clip=t,o._effectDiAudioSource.loop=!1,o._effectDiAudioSource.play())})))},o.stopPlayEff=function(e){var t=this._effectDiAudioSource;t?t.stop():console.log("Sound "+e+" is not currently playing.")},o.play=function(e,t,o){var s=this;if(void 0===t&&(t=!0),void 0===o&&(o="resources"),this.bgmMute?this.bgmVolume=0:this.bgmVolume=1,e instanceof i)this._bgmAudioSource.stop(),this._bgmAudioSource.clip=e,this._bgmAudioSource.loop=t,this._bgmAudioSource.play(),this._updateBGMVolume();else{var c=u.getBundle(o);if(!c)return;c.load(e,(function(e,o){e||o&&(s._bgmAudioSource.stop(),s._bgmAudioSource.clip=o,s._bgmAudioSource.loop=t,s._bgmAudioSource.play(),s._updateBGMVolume())}))}},o.stopBgm=function(){this._bgmAudioSource.stop()},o.pauseBgm=function(){this._bgmAudioSource.pause()},o.resumeBgm=function(){this._bgmAudioSource.play()},t(e,[{key:"effectMute",get:function(){var e;void 0===this._isEffectMuted&&(this.effectMute=null!=(e=d.getItem("audio_effectMute"))&&e);return this._isEffectMuted},set:function(e){this._isEffectMuted=e,d.setItem("audio_effectMute",e)}},{key:"bgmMute",get:function(){var e;void 0===this._isBGMMuted&&(this.bgmMute=null!=(e=d.getItem("audio_bgmMute"))&&e);return this._isBGMMuted},set:function(e){this._isBGMMuted=e,d.setItem("audio_bgmMute",e),this._updateBGMVolume(e)}}],[{key:"ins",get:function(){return e._ins||(e._ins=new e),e._ins}}]),e}())._ins=void 0,o._RF.pop()}}}));

System.register("chunks:///_virtual/BlockBa.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,o,c;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,c=t.Component}],execute:function(){var i;e._RF.push({},"d2125q7OLtL2IflKhb8zt67","BlockBa",void 0);var a=o.ccclass;o.property,t("BlockBa",a("BlockBa")(i=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),c=0;c<e;c++)o[c]=arguments[c];return(n=t.call.apply(t,[this].concat(o))||this).id=void 0,n.state=0,n}n(e,t);var o=e.prototype;return o.start=function(){},o.update=function(t){},o.init=function(t,n){this.id=n,this.state=0},o.changeState=function(t,n){0==t?n?this.state=3:3==this.state&&(this.state=0):this.state=n?0:1},e}(c))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/BlockController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BlockData.ts","./GridBlockMgr.ts","./ResSprite.ts"],(function(o){var e,t,r,n,c,i,l,a,s,u,f,p,k,h,d;return{setters:[function(o){e=o.applyDecoratedDescriptor,t=o.inheritsLoose,r=o.initializerDefineProperty,n=o.assertThisInitialized},function(o){c=o.cclegacy,i=o._decorator,l=o.Node,a=o.UIOpacity,s=o.Sprite,u=o.Color,f=o.Vec3,p=o.Component},function(o){k=o.BlockOffset},function(o){h=o.GridBlockMgr},function(o){d=o.default}],execute:function(){var B,g,C,v,y;c._RF.push({},"1424dLrJZ5MgYVGbDJ5xBg5","BlockController",void 0);var b=i.ccclass,w=i.property;o("BlockController",(B=b("BlockController"),g=w(l),B((y=e((v=function(o){function e(){for(var e,t=arguments.length,c=new Array(t),i=0;i<t;i++)c[i]=arguments[i];return e=o.call.apply(o,[this].concat(c))||this,r(e,"blockSet",y,n(e)),e.curBlockConfig=null,e}t(e,o);var c=e.prototype;return c.updateBlockSet=function(o,e,t){e&&(this.curBlockConfig=e);var r=this.curBlockConfig.block_arr,n=this.blockSet.children;if(25===n.length){for(var c=0;c<5;c++)for(var i=0;i<5;i++){var l=n[5*c+i];1===r[c][i]?(l.getComponent(d).setSpriteFrame(e.block_color+"/spriteFrame"),l.active=!0,t?(l.getComponent(a).opacity=t,l.getComponent(s).color=(new u).fromHEX("#B9B9B9")):l.getComponent(a).opacity=255):l.active=!1}o&&this.checkGray()}else console.error("blockSet should have exactly 25 children")},c.checkGray=function(){h.ins.detectIsCanPlaced(this.curBlockConfig.block_arr,this.node)},c.addBlockOffset=function(o){if(this.curBlockConfig){var e=this.curBlockConfig.block_offset,t=new f;e===k.UP?t=new f(0,122.5/o,0):e===k.DOWN?t=new f(0,-122.5/o,0):e===k.LEFT?t=new f(-122.5/o,0,0):e===k.RIGHT?t=new f(122.5/o,0,0):e===k.LEFTANDDOWN?t=new f(-122.5/o,-122.5/o,0):e===k.LEFTANDUP?t=new f(-122.5/o,122.5/o,0):e===k.RIGHTANDDOWN?t=new f(122.5/o,-122.5/o,0):e===k.RIGHTANDUP&&(t=new f(122.5/o,122.5/o,0)),this.node.position=this.node.position.add(t)}},c.start=function(){},e}(p)).prototype,"blockSet",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=v))||C));c._RF.pop()}}}));

System.register("chunks:///_virtual/BlockData.ts",["cc","./Url.ts"],(function(E){var T,P;return{setters:[function(E){T=E.cclegacy},function(E){P=E.Url}],execute:function(){var _;T._RF.push({},"e9740yUzVhB4a1G5KcOhr79","BlockData",void 0);var Y=E("BlockType",function(E){return E[E.TYPE_A=0]="TYPE_A",E[E.TYPE_B=1]="TYPE_B",E[E.TYPE_C=2]="TYPE_C",E[E.TYPE_D=3]="TYPE_D",E[E.TYPE_E=4]="TYPE_E",E[E.TYPE_F=5]="TYPE_F",E[E.TYPE_G=6]="TYPE_G",E[E.TYPE_H=7]="TYPE_H",E[E.TYPE_I=8]="TYPE_I",E[E.TYPE_J=9]="TYPE_J",E[E.TYPE_K=10]="TYPE_K",E[E.TYPE_L=11]="TYPE_L",E[E.TYPE_M=12]="TYPE_M",E[E.TYPE_N=13]="TYPE_N",E}({})),e=E("BlockOffset",function(E){return E[E.NONE=0]="NONE",E[E.UP=1]="UP",E[E.DOWN=2]="DOWN",E[E.LEFT=3]="LEFT",E[E.RIGHT=4]="RIGHT",E[E.LEFTANDUP=5]="LEFTANDUP",E[E.LEFTANDDOWN=6]="LEFTANDDOWN",E[E.RIGHTANDUP=7]="RIGHTANDUP",E[E.RIGHTANDDOWN=8]="RIGHTANDDOWN",E}({})),n=(E("BlockState",function(E){return E[E.HIDE=0]="HIDE",E[E.SHOW=1]="SHOW",E}({})),E("BlockConfig",(function(E,T,_,Y){this.block_arr=void 0,this.block_type=void 0,this.block_type_index=void 0,this.block_offset=void 0,this.block_color=void 0,this.block_arr=E,this.block_type=T,this.block_type_index=_,this.block_offset=Y,this.block_color=P.BLOCK.BLUE})));E("BlocksAll",[new n([[0,0,0,0,0],[0,0,0,0,0],[0,0,1,0,0],[0,0,0,0,0],[0,0,0,0,0]],Y.TYPE_A,0,e.NONE),new n([[0,0,0,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0],[0,0,0,0,0]],Y.TYPE_B,0,e.DOWN),new n([[0,0,0,0,0],[0,0,0,0,0],[0,0,1,1,0],[0,0,0,0,0],[0,0,0,0,0]],Y.TYPE_B,1,e.LEFT),new n([[0,0,0,0,0],[0,0,0,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],Y.TYPE_B,2,e.UP),new n([[0,0,0,0,0],[0,0,0,0,0],[0,1,1,0,0],[0,0,0,0,0],[0,0,0,0,0]],Y.TYPE_B,3,e.RIGHT),new n([[0,0,0,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],Y.TYPE_C,0,e.NONE),new n([[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[0,0,0,0,0],[0,0,0,0,0]],Y.TYPE_C,1,e.NONE),new n([[0,0,0,0,0],[0,0,0,0,0],[0,0,1,1,0],[0,0,1,0,0],[0,0,0,0,0]],Y.TYPE_D,0,e.LEFTANDUP),new n([[0,0,0,0,0],[0,0,0,0,0],[0,1,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],Y.TYPE_D,1,e.RIGHTANDUP),new n([[0,0,0,0,0],[0,0,1,0,0],[0,1,1,0,0],[0,0,0,0,0],[0,0,0,0,0]],Y.TYPE_D,2,e.RIGHTANDDOWN),new n([[0,0,0,0,0],[0,0,1,0,0],[0,0,1,1,0],[0,0,0,0,0],[0,0,0,0,0]],Y.TYPE_D,3,e.LEFTANDDOWN),new n([[0,0,0,0,0],[0,0,1,1,0],[0,0,1,1,0],[0,0,0,0,0],[0,0,0,0,0]],Y.TYPE_E,0,e.LEFTANDDOWN),new n([[0,0,0,0,0],[0,0,0,0,0],[0,0,1,1,0],[0,0,1,1,0],[0,0,0,0,0]],Y.TYPE_E,1,e.LEFTANDUP),new n([[0,0,0,0,0],[0,0,0,0,0],[0,1,1,0,0],[0,1,1,0,0],[0,0,0,0,0]],Y.TYPE_E,2,e.RIGHTANDUP),new n([[0,0,0,0,0],[0,1,1,0,0],[0,1,1,0,0],[0,0,0,0,0],[0,0,0,0,0]],Y.TYPE_E,3,e.RIGHTANDDOWN),new n([[0,0,0,0,0],[0,0,1,1,0],[0,0,1,1,0],[0,0,0,0,0],[0,0,0,0,0]],Y.TYPE_F,0,e.LEFTANDDOWN),new n([[0,0,0,0,0],[0,0,0,0,0],[0,0,1,1,0],[0,0,1,1,0],[0,0,0,0,0]],Y.TYPE_F,1,e.LEFTANDUP),new n([[0,0,0,0,0],[0,0,0,0,0],[0,1,1,0,0],[0,1,1,0,0],[0,0,0,0,0]],Y.TYPE_F,2,e.RIGHTANDUP),new n([[0,0,0,0,0],[0,1,1,0,0],[0,1,1,0,0],[0,0,0,0,0],[0,0,0,0,0]],Y.TYPE_F,3,e.RIGHTANDDOWN),new n([[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[0,1,0,0,0],[0,0,0,0,0]],Y.TYPE_G,0,e.UP),new n([[0,0,0,0,0],[0,1,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],Y.TYPE_G,1,e.RIGHT),new n([[0,0,0,0,0],[0,0,0,1,0],[0,1,1,1,0],[0,0,0,0,0],[0,0,0,0,0]],Y.TYPE_G,2,e.DOWN),new n([[0,0,0,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,1,0],[0,0,0,0,0]],Y.TYPE_G,3,e.LEFT),new n([[0,0,0,0,0],[0,0,1,0,0],[0,0,1,1,0],[0,0,1,0,0],[0,0,0,0,0]],Y.TYPE_H,0,e.LEFT),new n([[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[0,0,1,0,0],[0,0,0,0,0]],Y.TYPE_H,1,e.UP),new n([[0,0,0,0,0],[0,0,1,0,0],[0,1,1,1,0],[0,0,0,0,0],[0,0,0,0,0]],Y.TYPE_H,2,e.DOWN),new n([[0,0,0,0,0],[0,0,1,0,0],[0,1,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],Y.TYPE_H,3,e.RIGHT),new n([[0,0,0,0,0],[0,0,1,1,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],Y.TYPE_I,0,e.LEFT),new n([[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[0,0,0,1,0],[0,0,0,0,0]],Y.TYPE_I,1,e.UP),new n([[0,0,0,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,1,1,0,0],[0,0,0,0,0]],Y.TYPE_I,2,e.RIGHT),new n([[0,0,0,0,0],[0,1,0,0,0],[0,1,1,1,0],[0,0,0,0,0],[0,0,0,0,0]],Y.TYPE_I,3,e.DOWN),new n([[0,0,0,0,0],[0,1,1,0,0],[0,0,1,1,0],[0,0,0,0,0],[0,0,0,0,0]],Y.TYPE_J,0,e.DOWN),new n([[0,0,0,0,0],[0,0,0,1,0],[0,0,1,1,0],[0,0,1,0,0],[0,0,0,0,0]],Y.TYPE_J,1,e.LEFT),new n([[0,0,0,0,0],[0,0,0,0,0],[0,1,1,0,0],[0,0,1,1,0],[0,0,0,0,0]],Y.TYPE_J,2,e.UP),new n([[0,0,0,0,0],[0,0,1,0,0],[0,1,1,0,0],[0,1,0,0,0],[0,0,0,0,0]],Y.TYPE_J,3,e.RIGHT),new n([[0,0,0,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],Y.TYPE_K,0,e.NONE),new n([[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[0,0,0,0,0],[0,0,0,0,0]],Y.TYPE_K,1,e.NONE),new n([[0,0,0,0,0],[0,1,1,1,0],[0,1,0,0,0],[0,1,0,0,0],[0,0,0,0,0]],Y.TYPE_L,0,e.NONE),new n([[0,0,0,0,0],[0,1,1,1,0],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,0,0]],Y.TYPE_L,1,e.NONE),new n([[0,0,0,0,0],[0,0,0,1,0],[0,0,0,1,0],[0,1,1,1,0],[0,0,0,0,0]],Y.TYPE_L,2,e.NONE),new n([[0,0,0,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,1,1,0],[0,0,0,0,0]],Y.TYPE_L,3,e.NONE),new n([[0,0,0,0,0],[0,1,1,0,0],[0,1,1,0,0],[0,1,1,0,0],[0,0,0,0,0]],Y.TYPE_M,0,e.RIGHT),new n([[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[0,1,1,1,0],[0,0,0,0,0]],Y.TYPE_M,1,e.UP),new n([[0,0,0,0,0],[0,1,1,1,0],[0,1,1,1,0],[0,0,0,0,0],[0,0,0,0,0]],Y.TYPE_M,2,e.DOWN),new n([[0,0,0,0,0],[0,0,1,1,0],[0,0,1,1,0],[0,0,1,1,0],[0,0,0,0,0]],Y.TYPE_M,3,e.LEFT),new n([[0,0,0,0,0],[0,0,1,0,0],[0,0,1,1,0],[0,0,0,1,0],[0,0,0,0,0]],Y.TYPE_N,0,e.LEFT),new n([[0,0,0,0,0],[0,0,0,0,0],[0,0,1,1,0],[0,1,1,0,0],[0,0,0,0,0]],Y.TYPE_N,1,e.UP),new n([[0,0,0,0,0],[0,1,0,0,0],[0,1,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],Y.TYPE_N,2,e.RIGHT),new n([[0,0,0,0,0],[0,0,1,1,0],[0,1,1,0,0],[0,0,0,0,0],[0,0,0,0,0]],Y.TYPE_N,3,e.DOWN)]),E("BlockWeights",((_={})[Y.TYPE_A]=.01,_[Y.TYPE_B]=.07,_[Y.TYPE_C]=.035,_[Y.TYPE_D]=.17,_[Y.TYPE_E]=.085,_[Y.TYPE_F]=.085,_[Y.TYPE_G]=.07,_[Y.TYPE_H]=.07,_[Y.TYPE_I]=.07,_[Y.TYPE_J]=.13,_[Y.TYPE_K]=.035,_[Y.TYPE_L]=.01,_[Y.TYPE_M]=.07,_[Y.TYPE_N]=.13,_)),E("GridBoardData",{customizeBoardData1:[[0,0,0,1,1,0,0,0],[0,0,0,1,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,1,1,0,0,0],[0,0,0,1,1,0,0,0],[0,0,0,1,1,0,0,0]],customizeBoardData2:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[1,1,1,0,0,1,1,1],[1,1,1,0,1,1,1,1],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],customizeBoardData3:[[0,0,0,1,1,0,0,0],[0,0,0,1,1,0,0,0],[0,0,0,1,1,0,0,0],[1,1,1,0,0,1,1,1],[1,1,1,0,0,1,1,1],[0,0,0,1,1,0,0,0],[0,0,0,1,1,0,0,0],[0,0,0,1,1,0,0,0]],customizeBoardData4:[[1,1,0,0,0,0,1,1],[1,1,0,0,0,0,1,1],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[1,1,1,0,0,1,1,1],[0,0,0,0,0,0,0,0],[1,1,0,0,0,0,1,1],[1,1,0,0,0,0,1,1]],customizeBoardData5:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]});T._RF.pop()}}}));

System.register("chunks:///_virtual/data.global.center.ts",["./rollupPluginModLoBabelHelpers.js","cc","./data.global.trigger.ts"],(function(t){var n,e,l;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy},function(t){l=t.default}],execute:function(){e._RF.push({},"4552c/ZwQpPQ7816sOlLf5v","data.global.center",void 0);var a=t("default",function(){function t(){}return t.init=function(){t._trigger_=l("global_trigger"),t.listening()},t.listening=function(){},t.interval=function(n,e,l){var a=mtec.string.randomToken(7,36,(function(n){return!t._interval_call_token_map_.has(n)}));return t._interval_call_token_map_.set(a,{timestamp:Date.now(),interval:n,call:e,that:null!=l?l:null}),a},t.clearInterval=function(n){t._interval_call_token_map_.has(n)&&t._interval_call_token_map_.delete(n)},n(t,null,[{key:"Trigger",get:function(){return t._trigger_}}]),t}());a._trigger_=void 0,a._interval_call_token_map_=new Map,a.init(),e._RF.pop()}}}));

System.register("chunks:///_virtual/data.global.clock.ts",["cc","./lib.b.data.ts"],(function(t){var n,e;return{setters:[function(t){n=t.cclegacy},function(t){e=t.DataProxy}],execute:function(){t("default",(function(t,n){return e.initProxy(null!=t?t:"user",new i,!0,u,null!=n?n:"")})),n._RF.push({},"46b03UgShZBXaSwaJepxpae","data.global.clock",void 0);var i=function(){this.login_time=void 0,this.current_time=void 0},u={get:{login_time:function(t,n){return null!=n?n:Date.now()},current_time:function(t,n){return Date.now()}}};n._RF.pop()}}}));

System.register("chunks:///_virtual/data.global.trigger.ts",["cc","./lib.b.data.ts"],(function(t){var n,i;return{setters:[function(t){n=t.cclegacy},function(t){i=t.DataProxy}],execute:function(){t("default",(function(t,n){return i.initProxy(null!=t?t:"trigger",new r,!0,null,null!=n?n:"")})),n._RF.push({},"893067K8u9AGrUwE0ZhoSE5","data.global.trigger",void 0);var r=function(){this.LOADED=void 0,this.CONFIG_LOADED=void 0};n._RF.pop()}}}));

System.register("chunks:///_virtual/En.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"e1a79yRjpZFiZ8ShC5YIRcu","En",void 0);e("default",{guide_Rtext_1:"<color = #855933><b>Drag the blocks to fill the space and clear them</color>",home_curscore_text:"My Score:  ",home_hisscore_text:"Highest Score:  ",home_todscore_text:"Today's Highest:  ",pop_gameoverpage_title_text:"Game Over",pop_gameoverpage_word1_text:"New Record!",pop_gameoverpage_word2_text:"Keep Going!",pop_gameoverpage_btn1_text:"Revive",pop_gameoverpage_btn2_text:"Give Up and Restart",game_tip_noblock:"No more blocks on the field",pop_settingpage_title_text:"Setting",pop_settingpage_music_text:"Music",pop_settingpage_vibrate_text:"BGM"});t._RF.pop()}}}));

System.register("chunks:///_virtual/EventName.ts",["cc"],(function(E){var _;return{setters:[function(E){_=E.cclegacy}],execute:function(){_._RF.push({},"f2e547KiIxNBrgif8kVZNKZ","EventName",void 0);E("EventName",function(E){return E[E.RESIZE=0]="RESIZE",E[E.UPDATE_LOCALIZED_CMPT=1]="UPDATE_LOCALIZED_CMPT",E[E.GAME_PAUSE=2]="GAME_PAUSE",E[E.GAME_RESUME=3]="GAME_RESUME",E[E.TIME_SCALE=4]="TIME_SCALE",E[E.CAMERA_MOVE=5]="CAMERA_MOVE",E[E.EVENT_TEST1=6]="EVENT_TEST1",E[E.EVENT_TEST2=7]="EVENT_TEST2",E[E.COIN_LABEL_UPDATE=8]="COIN_LABEL_UPDATE",E[E.HOMEPAGE_BTN_UPDATE=9]="HOMEPAGE_BTN_UPDATE",E}({}));_._RF.pop()}}}));

System.register("chunks:///_virtual/Events.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventName.ts"],(function(e){var t,n,r,o,a,i;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy,o=e.error,a=e.warn},function(e){i=e.EventName}],execute:function(){function s(e,t,n,r){void 0===r&&(r=!0);var o=e.prototype[t],a=e.prototype[n];e.prototype[t]=function(){c.targetOn(this,r),o&&o.call(this)},e.prototype[n]=function(){c.targetOff(this),a&&a.call(this)}}e({eventsOnEnable:function(e){void 0===e&&(e=!0);return function(t){s(t,"onEnable","onDisable",e)}},eventsOnLoad:function(e){void 0===e&&(e=!0);return function(t){s(t,"onLoad","onDestroy",e)}},preloadEvent:function(e,t){void 0===t&&(t=!1);return function(n,r,a){var s=c.classMap.get(n.constructor);if(void 0===s)s=[],c.classMap.set(n.constructor,s);else if(s.find((function(t){return t.event===e&&t.funcName===r})))return void o("event: "+i[e]+" 重复载入");s.push({event:e,funcName:r,once:t})}}}),r._RF.push({},"03ed275lHtO66pJ63eN9+d6","Events",void 0);var c=e("default",function(){function e(){}return e.targetOn=function(e,t){var n=this;if(void 0===t&&(t=!0),t)this.classMap.forEach((function(t,r){if(e instanceof r)for(var o=0;o<t.length;o++){var a=t[o];n.on(a.event,e[a.funcName],e,a.once)}}));else{var r=this.classMap.get(e.constructor);if(r)for(var o=0;o<r.length;o++){var a=r[o];this.on(a.event,e[a.funcName],e,a.once)}}},e.on=function(e,t,n,r){if(void 0===r&&(r=!1),t&&n){var a=this._eventsMap.get(e),s=[];if(void 0===a)(a=new Map).set(n,s),this._eventsMap.set(e,a);else if(void 0===(s=a.get(n)))s=[],a.set(n,s);else if(s.find((function(e){return e.cb===t})))return void o("event: "+i[e]+" 重复注册");var c={cb:t,once:r};s.push(c)}else o("event: "+i[e]+" listener或target不能为空")},e.once=function(e,t,n){this.on(e,t,n,!0)},e.off=function(e,t,n){if(t&&n){var r=this._eventsMap.get(e);if(void 0!==r){var a=r.get(n);if(void 0!==a){var s=a.findIndex((function(e){return e.cb===t}));s<0?o("event: "+i[e]+" target上未以该listener注册该事件"):(a.splice(s,1),a.length<=0&&(r.delete(n),r.size<=0&&this._eventsMap.delete(e)))}else o("event: "+i[e]+" target上未注册该事件")}else o("event: "+i[e]+" 未注册该事件")}else o("event: "+i[e]+" listener或target不能为空")},e.targetOff=function(e){var t=this;e?this._eventsMap.forEach((function(n,r){n.delete(e),n.size<=0&&t._eventsMap.delete(r)})):o("event: "+e+" target不能为空")},e.emit=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=this._eventsMap.get(e);if(void 0!==o){var s,c=[],f=[];for(o.forEach((function(e,t){for(s=0;s<e.length;s++){var n=e[s];c.push({cb:n.cb,target:t}),n.once&&f.push({cb:n.cb,target:t})}})),s=0;s<f.length;s++){var u=f[s];this.off(e,u.cb,u.target)}for(s=0;s<c.length;s++){var v=c[s];v.cb.apply(v.target,n)}}else a("event: "+i[e]+" 未注册该事件")},e.emitAsync=function(){var e=t(n().mark((function e(t){var r,o,s,c,f,u,v,l,p,h,g=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=g.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=g[s];if(void 0!==(c=this._eventsMap.get(t))){e.next=5;break}return a("event: "+i[t]+" 未注册该事件"),e.abrupt("return");case 5:for(u=[],v=[],c.forEach((function(e,t){for(f=0;f<e.length;f++){var n=e[f];u.push({cb:n.cb,target:t}),n.once&&v.push({cb:n.cb,target:t})}})),f=0;f<v.length;f++)l=v[f],this.off(t,l.cb,l.target);for(p=[],f=0;f<u.length;f++)h=u[f],p.push(h.cb.apply(h.target,o));return e.next=13,Promise.all(p);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e}());c.classMap=new Map,c._eventsMap=new Map,r._RF.pop()}}}));

System.register("chunks:///_virtual/frame.config.ts",["cc"],(function(e){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"008bdDwfaBIPreH/Sk9J6Hv","frame.config",void 0);e("APP_NAME","bV90ZWNoLUJsb2Nrfg==".decodeAtoB),e("AFFIX_TEMPLATE","Ba_key_aB"),e("AFFIX_REGEXP",/Ba_(.*)_aB/);c._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalData.ts",["cc"],(function(e){var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"3d0518AG+5D+osTcyf7KD9z","GlobalData",void 0);var r=e("default",(function(){}));r.isRotate=!1,r.isCommer=!0,r.guideRecord=1,r.elimiTimes=0,r.lastGameBoard=[[1,1,0,0,0,0,1,1],[1,1,0,0,0,0,1,1],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[1,1,1,0,0,1,1,1],[0,0,0,0,0,0,0,0],[1,1,0,0,0,0,1,1],[1,1,0,0,0,0,1,1]],r.refrashPropNum=1,r.hummerPropNum=1,r.lastLoginDate="Tue Aug 20 2023",r.historyHighScore=0,r.todayHighScore=0,r.curScore=0,r.addScoreUp=10,r.addScoreFloor=5,o._RF.pop()}}}));

System.register("chunks:///_virtual/GridBlockMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BlockController.ts","./BlockData.ts","./GlobalData.ts","./LocalStorageMgr.ts","./MainGameLogic.ts","./TouchMgr.ts","./AudioManager.ts","./Url.ts","./ResSprite.ts"],(function(t){var e,o,a,n,c,l,r,i,s,b,_,k,d,f,h,u,p,g,v,m,B,C,S,E,O,L,y,x,w,K,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized,c=t.createForOfIteratorHelperLoose,l=t.createClass,r=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){s=t.cclegacy,b=t._decorator,_=t.Prefab,k=t.Node,d=t.UIOpacity,f=t.Vec3,h=t.tween,u=t.v3,p=t.view,g=t.Sprite,v=t.instantiate,m=t.Component},function(t){B=t.BlockController},function(t){C=t.BlockState,S=t.BlockWeights,E=t.BlocksAll},function(t){O=t.default},function(t){L=t.LocalStorageMgr},function(t){y=t.MainGameLogic},function(t){x=t.TouchMgr},function(t){w=t.AudioManager},function(t){K=t.Url},function(t){P=t.default}],execute:function(){var U,D,z,R,A,T,G,I,M,H,N,W,j,F;s._RF.push({},"ac41a8lIUlOD4Sh1llv88PP","GridBlockMgr",void 0);var V=b.ccclass,Y=b.property;t("GridBlockMgr",(U=V("GridBlockMgr"),D=Y(_),z=Y(_),R=Y(k),A=Y(k),T=Y(k),U(((F=function(t){function e(){var o;return o=t.call(this)||this,a(o,"block_ba",M,n(o)),a(o,"block",H,n(o)),a(o,"gridcontainer",N,n(o)),a(o,"selects",W,n(o)),a(o,"SelectionContainer",j,n(o)),o.boardSize=8,o.cellSize=122.5,o.block_ba_data=void 0,o.temp_block_ba_data=void 0,o.temp_block_ba_data1=void 0,o.selection_block_type=void 0,o.selection_block_config=void 0,e._ins=n(o),o}o(e,t);var s=e.prototype;return s.onLoad=function(){this.temp_block_ba_data=this.initializeBlockData(),this.temp_block_ba_data1=this.initializeBlockData()},s.start=function(){var t=r(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s.update=function(t){},s.initializeBlockData=function(){for(var t=[],e=0;e<8;e++){for(var o=[],a=0;a<8;a++)o.push({block_state:C.HIDE,block_ba_node:null,index_i:e,index_j:a,block_sprite:null,block_color:K.BLOCK.ORANGE});t.push(o)}return t},s.checkAndUpdateBlocks=function(){for(var t=this,e=new Set,o=new Set,a=!1,n=0,c=0,l=0,r=0,i=0,s=0;s<8;s++){for(var b=!0,_=0;_<8;_++)if(this.block_ba_data[s][_].block_state!==C.SHOW){b=!1;break}b&&(e.add(s),a=!0,r++)}for(var k=0;k<8;k++){for(var f=!0,h=0;h<8;h++)if(this.block_ba_data[h][k].block_state!==C.SHOW){f=!1;break}f&&(o.add(k),a=!0,i++)}var u=null,p=null,g=null;if(e.forEach((function(e){for(var o=0;o<8;o++){var a=t.block_ba_data[e][o].block_ba_node;a.getComponent(d).opacity=0,t.block_ba_data[e][o].block_state=C.HIDE,y.ins.createOneBlockEfEffect(a,t.block_ba_data[e][o].block_color),n++,c+=e,l+=o}})),o.forEach((function(e){for(var o=0;o<8;o++){var a=t.block_ba_data[o][e].block_ba_node;a.getComponent(d).opacity=0,t.block_ba_data[o][e].block_state=C.HIDE,y.ins.createOneBlockEfEffect(a,t.block_ba_data[o][e].block_color),n++,c+=o,l+=e}})),a){w.ins.playOneShot(K.AUDIO.SFX10,1),u=Math.floor(c/n),p=Math.floor(l/n);var v=this.block_ba_data[u][p].block_ba_node;g=v.getPosition();var m=r+i;y.ins.detectGuideAndElimiTimes(m);var B=mtec.number.random(O.addScoreFloor,O.addScoreUp);y.ins.createConsecutiveEffect(g,m),this.scheduleOnce((function(){y.ins.createEleAddScoreEff(g,B*n)}),1)}return this.scheduleOnce((function(){t.saveCurrentBoardState()}),1),g},s.saveCurrentBoardState=function(){for(var t=[],e=0;e<8;e++){for(var o=[],a=0;a<8;a++)o.push(this.block_ba_data[e][a].block_state===C.SHOW?1:0);t.push(o)}L.setItem(L.lastGameBoardData_key,t)},s.chechBlockArea=function(){for(var t=this,e=[{x:0,y:1},{x:1,y:0},{x:0,y:-1},{x:-1,y:0}],o=new Array(this.boardSize).fill(!1).map((function(){return new Array(t.boardSize).fill(!1)})),a=0,n=[],l=function a(n,c,l){o[n][c]=!0,l.push(t.block_ba_data[n][c]);for(var r=0,i=e;r<i.length;r++){var s=i[r],b=n+s.x,_=c+s.y;b>=0&&b<t.boardSize&&_>=0&&_<t.boardSize&&!o[b][_]&&t.block_ba_data[b][_].block_state===C.SHOW&&a(b,_,l)}},r=0;r<this.boardSize;r++)for(var i=0;i<this.boardSize;i++)if(!o[r][i]&&this.block_ba_data[r][i].block_state===C.SHOW){var s=[];l(r,i,s),s.length>a&&(a=s.length,n=s)}for(var b,_=c(n);!(b=_()).done;){var k=b.value;k.block_ba_node.getComponent(d).opacity=0,k.block_state=C.HIDE}},s.chechAndEliminateRandomArea=function(){for(var t=[],e=0;e<this.boardSize;e+=4)for(var o=0;o<this.boardSize;o+=4){for(var a=[],n=e;n<e+4;n++)for(var l=o;l<o+4;l++)this.block_ba_data[n][l].block_state===C.SHOW&&a.push(this.block_ba_data[n][l]);a.length>0&&t.push({blocks:a,row:e,col:o})}if(0===t.length)return y.ins.propInUse=!1,y.ins.createOneTipTpast("game_tip_noblock"),!1;for(var r,i=t[Math.floor(Math.random()*t.length)],s=0,b=0,_=0,k=c(i.blocks);!(r=k()).done;){var h=r.value.block_ba_node.getPosition();s+=h.x,b+=h.y,_+=h.z}var u=new f(s/i.blocks.length,b/i.blocks.length,_/i.blocks.length);return this.saveCurrentBoardState(),y.ins.usePropHummerEffect(u,(function(){for(var t,e=c(i.blocks);!(t=e()).done;){var o=t.value;o.block_ba_node.getComponent(d).opacity=0,o.block_state=C.HIDE,y.ins.createOneBlockEfEffect(o.block_ba_node,o.block_color)}y.ins.propInUse=!1})),!0},s.generateBoard=function(){var t=r(i().mark((function t(e){var o,a,n,c,l,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(this.block_ba_data=[],o=0;o<this.boardSize;o++)for(this.block_ba_data[o]=[],a=0;a<this.boardSize;a++)n=e[o][a],c=o+1+"_"+(a+1),(l=this.gridcontainer.getChildByName(c)).getComponent(d).opacity=1==n?255:0,l.getComponent(P).setSpriteFrame(K.BLOCK.ORANGE+"/spriteFrame"),r={index_i:o,index_j:a,block_ba_node:l,block_state:1==n?C.SHOW:C.HIDE,block_sprite:l.getComponent(P),block_color:K.BLOCK.ORANGE},this.block_ba_data[o][a]=r;case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.generateBoard_effect=function(){var t=r(i().mark((function t(e){var o,a,n,c,l,r,s,b,_,k,f,u;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(w.ins.playOneShot(K.AUDIO.SFX12,1),this.block_ba_data=[],o=0;o<this.boardSize;o++)for(this.block_ba_data[o]=[],a=0;a<this.boardSize;a++)n=o+1+"_"+(a+1),c=this.gridcontainer.getChildByName(n),l={index_i:o,index_j:a,block_ba_node:c,block_state:C.HIDE,block_sprite:c.getComponent(P),block_color:K.BLOCK.ORANGE},this.block_ba_data[o][a]=l;r=this.boardSize-1;case 4:if(!(r>=0)){t.next=11;break}for(s=0;s<this.boardSize;s++)b=this.block_ba_data[r][s].block_ba_node,h(b.getComponent(d)).to(.1,{opacity:255}).start();return t.next=8,this.delay(100);case 8:r--,t.next=4;break;case 11:_=0;case 12:if(!(_<this.boardSize)){t.next=19;break}for(k=0;k<this.boardSize;k++)f=e[_][k],this.block_ba_data[_][k].block_state=1==f?C.SHOW:C.HIDE,0==f&&(u=this.block_ba_data[_][k].block_ba_node,h(u.getComponent(d)).to(.1,{opacity:0}).start());return t.next=16,this.delay(100);case 16:_++,t.next=12;break;case 19:this.saveCurrentBoardState();case 20:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.delay=function(t){return new Promise((function(e){return setTimeout(e,t)}))},s.updateBoard=function(){for(var t=0;t<this.block_ba_data.length;t++)for(var e=0;e<this.block_ba_data[t].length;e++){var o=this.block_ba_data[t][e].block_state;this.block_ba_data[t][e].block_ba_node.getComponent(d).opacity=1==o?255:0}},s.getRandomBlockConfig=function(){var t=0,e=[];for(var o in S)if(S.hasOwnProperty(o)){var a=Number(o);t+=S[a],e.push({type:a,weight:t})}for(var n=Math.random()*t,c=void 0,l=0,r=e.length-1;l<=r;){var i=Math.floor((l+r)/2);n<e[i].weight?(c=e[i].type,r=i-1):l=i+1}if(void 0!==c){var s=E.filter((function(t){return t.block_type===c}));if(s.length>0){var b=Math.floor(Math.random()*s.length);switch(mtec.number.random(0,6,0)){case 0:s[b].block_color=K.BLOCK.BLUE;break;case 1:s[b].block_color=K.BLOCK.DEEPBLUE;break;case 2:s[b].block_color=K.BLOCK.GREEN;break;case 3:s[b].block_color=K.BLOCK.ORANGE;break;case 4:s[b].block_color=K.BLOCK.PURPLE;break;case 5:s[b].block_color=K.BLOCK.RED;break;case 6:s[b].block_color=K.BLOCK.YELLOW;break;default:s[b].block_color=K.BLOCK.BLUE}return s[b]}}},s.generateSelectionBlock=function(t,o){var a=[];if(o)for(var n=0;n<o.length;n++)a.push(o[n]),x.ins.selectCanTouch[n]=!0;else for(var c=0;c<3;c++)a.push(e.ins.getRandomBlockConfig()),x.ins.selectCanTouch[c]=!0;t?(this.selects.forEach((function(t,e){h(t).to(.2,{scale:u(0,0,1)}).call((function(){var o=a[e];t.setPosition(new f(0,0,0)),t.getComponent(B).updateBlockSet(!0,o),t.getComponent(B).addBlockOffset(4),t.active=!0})).to(.2,{scale:u(.5,.5,1)}).start()})),y.ins.propInUse=!1):(this.SelectionContainer.setPosition(u(p.getVisibleSize().width,0,0)),this.SelectionContainer.setScale(0,0,1),h(this.SelectionContainer).parallel(h().to(.5,{position:u(0,0,0)}),h().to(.5,{scale:u(1,1,1)})).start(),this.selects.forEach((function(t,e){var o=a[e];t.setPosition(new f(0,0,0)),t.getComponent(B).updateBlockSet(!0,o),t.getComponent(B).addBlockOffset(4),t.active=!0}))),this.detectSelectsBlockCanUse(!0)},s.generareGuideSelectionBlock=function(t){for(var e=[],o=0;o<t.length;o++)e.push(t[o]);this.selects.forEach((function(t,o){var a=e[o];t.setPosition(new f(0,0,0)),t.getComponent(B).updateBlockSet(!0,a),t.getComponent(B).addBlockOffset(4),t.active=0!=o&&2!=o})),x.ins.selectCanTouch=[!1,!0,!1]},s.resetTempBlockData=function(){for(var t=0;t<this.block_ba_data.length;t++)for(var e=0;e<this.block_ba_data[t].length;e++)this.temp_block_ba_data[t][e]={index_i:this.block_ba_data[t][e].index_i,index_j:this.block_ba_data[t][e].index_j,block_state:this.block_ba_data[t][e].block_state,block_ba_node:this.block_ba_data[t][e].block_ba_node,block_sprite:this.block_ba_data[t][e].block_ba_node.getComponent(P),block_color:this.block_ba_data[t][e].block_color}},s.getSelectionBlockConfig=function(){this.selection_block_config=[];for(var t=0;t<x.ins.selectCanTouch.length;t++)if(x.ins.selectCanTouch[t]){var e=this.selects[t].getComponent(B).curBlockConfig;this.selection_block_config.push(e)}},s.detectGameOver=function(){this.detectSelectsBlockCanUse(!1),this.getSelectionBlockConfig();var t=[];if(O.isRotate)for(var e=0;e<this.selection_block_config.length;e++)for(var o=this.selection_block_config[e],a=0;a<E.length;a++)E[a].block_type===o.block_type&&t.push(E[a]);else for(var n=0;n<this.selection_block_config.length;n++)t.push(this.selection_block_config[n]);for(var c=0;c<this.block_ba_data.length;c++)for(var l=0;l<this.block_ba_data[c].length;l++)for(var r=0;r<t.length;r++){this.resetTempBlockData();var i=t[r].block_arr,s=this.temp_block_ba_data[c][l];if(this.getCenteredBlocks(s.index_i,s.index_j,i).iscanplaced)return!1}return!0},s.generateSpecificSelectionBlock=function(t){for(var o=this,a=[],n=0;n<this.block_ba_data.length;n++)for(var c=0;c<this.block_ba_data.length;c++)for(var l=function(t){o.resetTempBlockData();var e=E[t].block_arr,l=o.temp_block_ba_data[n][c],r=o.getCenteredBlocks(l.index_i,l.index_j,e),i=r.iscanplaced,s=r.indexarr;if(i){for(var b=0;b<s.length;b++){var _=s[b][0],k=s[b][1];o.temp_block_ba_data[_][k].block_state=C.SHOW}var d=o.checkAndUpdateTempBlocks();if(d>0){var f=a.findIndex((function(e){return e.block.block_type===E[t].block_type}));-1!==f?a[f].totalEliminate<d&&(a[f]={block:E[t],totalEliminate:d}):a.push({block:E[t],totalEliminate:d})}}},r=0;r<E.length;r++)l(r);a.sort((function(t,e){return e.totalEliminate!==t.totalEliminate?e.totalEliminate-t.totalEliminate:o.countOnes(t.block.block_arr)-o.countOnes(e.block.block_arr)}));var i=[];if(a.length>=3){for(var s=0;s<3;s++){switch(mtec.number.random(0,6,0)){case 0:a[s].block.block_color=K.BLOCK.BLUE;break;case 1:a[s].block.block_color=K.BLOCK.DEEPBLUE;break;case 2:a[s].block.block_color=K.BLOCK.GREEN;break;case 3:a[s].block.block_color=K.BLOCK.ORANGE;break;case 4:a[s].block.block_color=K.BLOCK.PURPLE;break;case 5:a[s].block.block_color=K.BLOCK.RED;break;case 6:a[s].block.block_color=K.BLOCK.YELLOW;break;default:a[s].block.block_color=K.BLOCK.BLUE}i.push(a[s].block),x.ins.selectCanTouch[s]=!0}t?(this.selects.forEach((function(t,e){h(t).to(.2,{scale:u(0,0,1)}).call((function(){var o=i[e];t.setPosition(new f(0,0,0)),t.getComponent(B).updateBlockSet(!0,o),t.getComponent(B).addBlockOffset(4),t.active=!0})).to(.2,{scale:u(.5,.5,1)}).start()})),y.ins.propInUse=!1):(this.SelectionContainer.setPosition(u(p.getVisibleSize().width,0,0)),this.SelectionContainer.setScale(0,0,1),h(this.SelectionContainer).parallel(h().to(.5,{position:u(0,0,0)}),h().to(.5,{scale:u(1,1,1)})).start(),this.selects.forEach((function(t,e){var o=i[e];t.setPosition(new f(0,0,0)),t.getComponent(B).updateBlockSet(!0,o),t.getComponent(B).addBlockOffset(4),t.active=!0})))}else if(2==a.length){for(var b=0;b<2;b++){switch(mtec.number.random(0,6,0)){case 0:a[b].block.block_color=K.BLOCK.BLUE;break;case 1:a[b].block.block_color=K.BLOCK.DEEPBLUE;break;case 2:a[b].block.block_color=K.BLOCK.GREEN;break;case 3:a[b].block.block_color=K.BLOCK.ORANGE;break;case 4:a[b].block.block_color=K.BLOCK.PURPLE;break;case 5:a[b].block.block_color=K.BLOCK.RED;break;case 6:a[b].block.block_color=K.BLOCK.YELLOW;break;default:a[b].block.block_color=K.BLOCK.BLUE}i.push(a[b].block),x.ins.selectCanTouch[b]=!0}i.push(e.ins.getRandomBlockConfig()),x.ins.selectCanTouch[2]=!0,t?(this.selects.forEach((function(t,e){h(t).to(.2,{scale:u(0,0,1)}).call((function(){var o=i[e];t.setPosition(new f(0,0,0)),t.getComponent(B).updateBlockSet(!0,o),t.getComponent(B).addBlockOffset(4),t.active=!0})).to(.2,{scale:u(.5,.5,1)}).start()})),y.ins.propInUse=!1):(this.SelectionContainer.setPosition(u(p.getVisibleSize().width,0,0)),this.SelectionContainer.setScale(0,0,1),h(this.SelectionContainer).parallel(h().to(.5,{position:u(0,0,0)}),h().to(.5,{scale:u(1,1,1)})).start(),this.selects.forEach((function(t,e){var o=i[e];t.setPosition(new f(0,0,0)),t.getComponent(B).updateBlockSet(!0,o),t.getComponent(B).addBlockOffset(4),t.active=!0})))}else if(1==a.length){switch(mtec.number.random(0,6,0)){case 0:a[0].block.block_color=K.BLOCK.BLUE;break;case 1:a[0].block.block_color=K.BLOCK.DEEPBLUE;break;case 2:a[0].block.block_color=K.BLOCK.GREEN;break;case 3:a[0].block.block_color=K.BLOCK.ORANGE;break;case 4:a[0].block.block_color=K.BLOCK.PURPLE;break;case 5:a[0].block.block_color=K.BLOCK.RED;break;case 6:a[0].block.block_color=K.BLOCK.YELLOW;break;default:a[0].block.block_color=K.BLOCK.BLUE}i.push(a[0].block),x.ins.selectCanTouch[0]=!0;for(var _=1;_<3;_++)i.push(e.ins.getRandomBlockConfig()),x.ins.selectCanTouch[_]=!0;t?(this.selects.forEach((function(t,e){h(t).to(.2,{scale:u(0,0,1)}).call((function(){var o=i[e];t.setPosition(new f(0,0,0)),t.getComponent(B).updateBlockSet(!0,o),t.getComponent(B).addBlockOffset(4),t.active=!0})).to(.2,{scale:u(.5,.5,1)}).start()})),y.ins.propInUse=!1):(this.SelectionContainer.setPosition(u(p.getVisibleSize().width,0,0)),this.SelectionContainer.setScale(0,0,1),h(this.SelectionContainer).parallel(h().to(.5,{position:u(0,0,0)}),h().to(.5,{scale:u(1,1,1)})).start(),this.selects.forEach((function(t,e){var o=i[e];t.setPosition(new f(0,0,0)),t.getComponent(B).updateBlockSet(!0,o),t.getComponent(B).addBlockOffset(4),t.active=!0})))}else this.generateSelectionBlock(t);this.detectSelectsBlockCanUse(!0)},s.detectSelectsBlockCanUse=function(t){for(var e=0;e<this.selects.length;e++){var o=this.selects[e].getComponent(B);t&&(this.selects[e].parent.getChildByName("frash").active=!1),o.checkGray()}},s.resetTempBlockData1=function(){for(var t=0;t<this.block_ba_data.length;t++)for(var e=0;e<this.block_ba_data[t].length;e++)this.temp_block_ba_data1[t][e]={index_i:this.block_ba_data[t][e].index_i,index_j:this.block_ba_data[t][e].index_j,block_state:this.block_ba_data[t][e].block_state,block_ba_node:this.block_ba_data[t][e].block_ba_node,block_sprite:this.block_ba_data[t][e].block_ba_node.getComponent(P),block_color:this.block_ba_data[t][e].block_color}},s.detectIsCanPlaced=function(t,o){for(var a=0;a<this.block_ba_data.length;a++)for(var n=0;n<this.block_ba_data[a].length;n++){e.ins.resetTempBlockData1();var c=t,l=this.temp_block_ba_data1[a][n];if(this.getCenteredBlocks(l.index_i,l.index_j,c).iscanplaced){for(var r=0;r<o.children.length;r++){o.children[r].getComponent(g).grayscale=!1}return}for(var i=0;i<o.children.length;i++){o.children[i].getComponent(g).grayscale=!0}}},s.countOnes=function(t){for(var e=0,o=0;o<t.length;o++)for(var a=0;a<t[o].length;a++)1===t[o][a]&&e++;return e},s.checkAndUpdateTempBlocks=function(){for(var t=this.temp_block_ba_data.length,e=0,o=0;o<t;o++){for(var a=!0,n=0;n<t;n++)if(this.temp_block_ba_data[o][n].block_state!==C.SHOW){a=!1;break}if(a){e++;for(var c=0;c<t;c++)this.temp_block_ba_data[o][c].block_state=C.HIDE}}for(var l=0;l<t;l++){for(var r=!0,i=0;i<t;i++)if(this.temp_block_ba_data[i][l].block_state!==C.SHOW){r=!1;break}if(r){e++;for(var s=0;s<t;s++)this.temp_block_ba_data[s][l].block_state=C.HIDE}}return e},s.getCenteredBlocks=function(t,e,o){if(o){for(var a=Array(5).fill(null).map((function(){return Array(5).fill(null)})),n=Array(5).fill(null).map((function(){return Array(5).fill(null)})),c=Array(5).fill(null).map((function(){return Array(5).fill(null)})),l=Math.max(t-2,0),r=Math.min(t+2,this.temp_block_ba_data.length-1),i=Math.max(e-2,0),s=Math.min(e+2,this.temp_block_ba_data[0].length-1),b=l;b<=r;b++)for(var _=i;_<=s;_++){var k=this.temp_block_ba_data[b][_].block_state,d=this.temp_block_ba_data[b][_].block_ba_node,f=[this.temp_block_ba_data[b][_].index_i,this.temp_block_ba_data[b][_].index_j];a[b-(t-2)][_-(e-2)]=k,n[b-(t-2)][_-(e-2)]=d,c[b-(t-2)][_-(e-2)]=f}for(var h=0;h<5;h++)for(var u=0;u<5;u++){var p=a[h][u],g=o[h][u];if(1===p&&1===g||null===p&&1===g)return{iscanplaced:!1,indexarr:null}}for(var v=[],m=0;m<5;m++)for(var B=0;B<5;B++){var C=a[m][B],S=o[m][B];0===C&&1===S&&v.push(c[m][B])}return{iscanplaced:!0,indexarr:v}}},s.generateTempBlock=function(t){var e=v(this.block);return e.getComponent(B).updateBlockSet(!1,t),e},l(e,null,[{key:"ins",get:function(){return e._ins||(e._ins=new e),e._ins}}]),e}(m))._ins=void 0,M=e((I=F).prototype,"block_ba",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(I.prototype,"block",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(I.prototype,"gridcontainer",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(I.prototype,"selects",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=e(I.prototype,"SelectionContainer",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=I))||G));s._RF.pop()}}}));

System.register("chunks:///_virtual/Guide.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocalizedLabel.ts","./BlockController.ts","./BlockData.ts","./GlobalData.ts","./GridBlockMgr.ts","./LocalStorageMgr.ts","./TouchMgr.ts"],(function(e){var i,t,o,n,s,r,l,u,a,c,d,h,g,p,y,b,f,P,m,k,v,B,T,O,G,z,C;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized,s=e.createClass,r=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){u=e.cclegacy,a=e._decorator,c=e.Mask,d=e.Node,h=e.UITransform,g=e.RichText,p=e.Tween,y=e.v3,b=e.tween,f=e.Component,P=e.Size,m=e.UIOpacity},function(e){k=e.default},function(e){v=e.BlockController},function(e){B=e.GridBoardData,T=e.BlocksAll},function(e){O=e.default},function(e){G=e.GridBlockMgr},function(e){z=e.LocalStorageMgr},function(e){C=e.TouchMgr}],execute:function(){var w,N,R,_,S,L,D,x,M,F,A,I,U,j,H,K,V,q,E,J,Q,W,X,Y,Z,$,ee,ie,te,oe;u._RF.push({},"415fafL5vVLS4Mt95261ixT","Guide",void 0);var ne=a.ccclass,se=a.property;e("Guide",(w=ne("Guide"),N=se(c),R=se(d),_=se(h),S=se(h),L=se(d),D=se(d),x=se(g),M=se(d),F=se(d),A=se(d),I=se(d),U=se(d),j=se(d),w(((oe=function(e){function i(){var t;return(t=e.call(this)||this).newComerReward=null,o(t,"mask",V,n(t)),o(t,"shade",q,n(t)),o(t,"toucher",E,n(t)),o(t,"pointer",J,n(t)),o(t,"block",Q,n(t)),o(t,"diolog",W,n(t)),o(t,"diologLabel",X,n(t)),t.guideindex1=[3,3],t.guideindex2=[3,3],t.guideindex3=[4,3],o(t,"guidenode",Y,n(t)),t.guideTarPos=null,o(t,"selecnode",Z,n(t)),t.selecOriPos=null,o(t,"uiGuideNode1",$,n(t)),t.uiGuideNodePos1=null,o(t,"uiGuideNode2",ee,n(t)),t.uiGuideNodePos2=null,o(t,"uiGuideNode3",ie,n(t)),t.uiGuideNodePos3=null,o(t,"PopPage",te,n(t)),t.boardeffectTimes=1,i._ins=n(t),t}t(i,e);var u=i.prototype;return u.start=function(){O.isCommer&&this.runGuide()},u.runGuide=function(){O.isCommer?(C.ins.resumePromptBlock(),p.stopAllByTarget(this.toucher.node),p.stopAllByTarget(this.block),this.guideTarPos=C.ins.getNodeAToNodeBPoint(this.guidenode,this.node),this.selecOriPos=C.ins.getNodeAToNodeBPoint(this.selecnode,this.node),1==O.guideRecord?(G.ins.generateBoard(B.customizeBoardData1),G.ins.generareGuideSelectionBlock([T[45],T[45],T[45]]),this.guide1()):2==O.guideRecord?(G.ins.generateBoard(B.customizeBoardData2),G.ins.generareGuideSelectionBlock([T[7],T[7],T[7]]),this.guide2()):3==O.guideRecord?(G.ins.generateBoard(B.customizeBoardData3),G.ins.generareGuideSelectionBlock([T[11],T[11],T[11]]),this.guide3()):4==O.guideRecord&&this.guide4()):this.node.active=!1},u.guide1=function(){this.toucher.node.active=!0,this.diolog.active=!0,this.diolog.setPosition(y(-600,-500,0)),this.diologLabel.node.getComponent(k).setTextKeyAndOption("guide_Rtext_1"),this.block.active=!0,this.block.setPosition(this.selecOriPos),this.toucher.node.setPosition(this.selecOriPos.add(y(100,-60,0))),this.block.getComponent(v).updateBlockSet(!1,T[45],150),this.block.getComponent(v).addBlockOffset(2),this.pointer.node.setPosition(y(0,0,0)),b(this.toucher.node).delay(.2).by(1,{position:y(0,this.guideTarPos.y-this.selecOriPos.y,0)}).delay(.2).by(.01,{position:y(0,-(this.guideTarPos.y-this.selecOriPos.y),0)}).union().repeatForever().start(),b(this.block).delay(.2).by(1,{position:y(0,this.guideTarPos.y-this.selecOriPos.y,0)}).delay(.2).by(.01,{position:y(0,-(this.guideTarPos.y-this.selecOriPos.y),0)}).union().repeatForever().start()},u.guide2=function(){this.toucher.node.active=!0,this.diolog.active=!1,this.block.active=!0,this.block.setPosition(this.selecOriPos),this.toucher.node.setPosition(this.selecOriPos.add(y(100,-60,0))),this.block.getComponent(v).updateBlockSet(!1,T[7],150),this.block.getComponent(v).addBlockOffset(2),this.pointer.node.setPosition(y(0,0,0)),b(this.toucher.node).delay(.2).by(1,{position:y(0,this.guideTarPos.y-this.selecOriPos.y-55,0)}).delay(.2).by(.01,{position:y(0,55-(this.guideTarPos.y-this.selecOriPos.y),0)}).union().repeatForever().start(),b(this.block).delay(.2).by(1,{position:y(0,this.guideTarPos.y-this.selecOriPos.y-55,0)}).delay(.2).by(.01,{position:y(0,55-(this.guideTarPos.y-this.selecOriPos.y),0)}).union().repeatForever().start()},u.guide3=function(){this.toucher.node.active=!0,this.diolog.active=!1,this.block.active=!0,this.block.setPosition(this.selecOriPos),this.toucher.node.setPosition(this.selecOriPos.add(y(100,-60,0))),this.block.getComponent(v).updateBlockSet(!1,T[11],150),this.block.getComponent(v).addBlockOffset(2),this.pointer.node.setPosition(y(0,0,0)),b(this.toucher.node).delay(.2).by(1,{position:y(0,this.guideTarPos.y-this.selecOriPos.y-55,0)}).delay(.2).by(.01,{position:y(0,55-(this.guideTarPos.y-this.selecOriPos.y),0)}).union().repeatForever().start(),b(this.block).delay(.2).by(1,{position:y(0,this.guideTarPos.y-this.selecOriPos.y-55,0)}).delay(.2).by(.01,{position:y(0,55-(this.guideTarPos.y-this.selecOriPos.y),0)}).union().repeatForever().start()},u.guide4=function(){var e=r(l().mark((function e(){var i=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G.ins.generateBoard_effect(B.customizeBoardData4),this.scheduleOnce((function(){G.ins.generateSelectionBlock(!1,[T[15],T[2],T[15]])}),2),this.node.active=!0,this.block.active=!1,this.toucher.node.active=!1,this.diolog.active=!0,this.diolog.setPosition(y(0,0,0)),this.mask.node.active=!0,this.mask.node.getComponent(h).setContentSize(new P(0,0)),this.mask.node.setPosition(y(0,0,0)),this.shade.setPosition(y(0,0,0)),this.diolog.getComponent(m).opacity=0,b(this.diolog.getComponent(m)).to(.5,{opacity:255}).delay(2).to(.5,{opacity:0}).call((function(){i.node.active=!1})).start();case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.completeCurGuide=function(e){O.guideRecord=e,z.setItem(z.guideRecord_key,O.guideRecord),this.runGuide(),O.guideRecord>=5&&(O.isCommer=!1,z.setItem(z.isCommer_key,O.isCommer))},s(i,null,[{key:"ins",get:function(){return i._ins||(i._ins=new i),i._ins}}]),i}(f))._ins=void 0,V=i((K=oe).prototype,"mask",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(K.prototype,"shade",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(K.prototype,"toucher",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=i(K.prototype,"pointer",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=i(K.prototype,"block",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(K.prototype,"diolog",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=i(K.prototype,"diologLabel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=i(K.prototype,"guidenode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=i(K.prototype,"selecnode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(K.prototype,"uiGuideNode1",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=i(K.prototype,"uiGuideNode2",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=i(K.prototype,"uiGuideNode3",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=i(K.prototype,"PopPage",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=K))||H));u._RF.pop()}}}));

System.register("chunks:///_virtual/HttpService.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,r;return{setters:[function(e){n=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){r=e.cclegacy}],execute:function(){e({http_send:function(){return i.apply(this,arguments)},on_network_exception:function(e){s.push(e)}}),r._RF.push({},"c7dd0GxI/VJUa+vfI8Qu25N","HttpService",void 0);var a={"Content-Type":"application/json","Accept-Charset":"utf-8",Origin:"*"},u={CONNECT:"lightslategray",HEAD:"cadetblue",OPTIONS:"thistle",GET:"lightgreen",PUT:"darkcyan",DELETE:"lightcoral",POST:"deepskyblue",PATCH:"silver",TRACE:"steelblue"};function o(e,n,t,r){var u,o,i=function(e,n){var t;if("json"===n)t=JSON.stringify(e);else if("search"===n){var r=[];for(var a in e)r.push(a+"="+e[a]);t=r.join("&")}else if("form"===n)for(var u in t=new FormData,e)t.set(u,String(e[u]));return t}(n,"json"),s={method:null!=t?t:"GET",headers:(u=r,o=new Headers,[a,u].forEach((function(e){if(e&&null!=e)for(var n in e)o.append(n,Reflect.get(e,n))})),o)};return"POST"==s.method&&(s.body=i),new Request(e,s)}function i(){return(i=n(t().mark((function e(){var n,r,a,i,c,f,p,v,d,h,g,E,T,k,y,m,R=arguments;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=R.length,i=new Array(a),c=0;c<a;c++)i[c]=R[c];i[2]=null!=(n=i[2])?n:"GET",f=mtec.string.randomToken(8,36,(function(e){return!l.has(e)})),l.set(f,l.size),p=new Date,d=0,g=0;case 7:if(null!=(E=v)&&E.ok||!(g<3)){e.next=24;break}return e.next=10,fetch(o.apply(void 0,i)).then((function(e){return e})).catch((function(e){i[0]}));case 10:if(v=e.sent,d=Date.now()-p.valueOf(),null==(T=v)||!T.ok){e.next=18;break}return e.next=15,v.json();case 15:e.t0=e.sent,e.next=19;break;case 18:e.t0=void 0;case 19:h=e.t0,g++,v&&v.ok||s.forEach((function(e){var n,t;return e(f,g,d,null!=(n=null==(t=v)?void 0:t.status)?n:-101)})),e.next=7;break;case 24:return g>1?(i[0],null==(k=v)?void 0:k.status,s.forEach((function(e){var n,t;return e(f,g,d,null!=(n=null==(t=v)?void 0:t.status)?n:-102)}))):d>5e3&&(i[0],null==(y=v)?void 0:y.status,s.forEach((function(e){var n,t;return e(f,g,d,null!=(n=null==(t=v)?void 0:t.status)?n:-103)}))),null!=(r=v)&&r.ok||(i[0],null==(m=v)?void 0:m.status,s.forEach((function(e){var n,t;return e(f,g,d,null!=(n=null==(t=v)?void 0:t.status)?n:-104)}))),mtec.log.tag([["SERVICE","slategray"],[i[2],Reflect.get(u,i[2])],["<<","seagreen"],h?["OK","springgreen"]:["ERR","red"],[d+" ms","silver"]].map((function(e){return e.join(":")})).join(";"),i[0].split("/").slice(3).join("/"),"\n--------------\nRESPONSE:",v,"\nDATA:",h,"\n--------------\n"),l.delete(f),e.abrupt("return",h);case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var s=[],l=new Map;r._RF.pop()}}}));

System.register("chunks:///_virtual/I18n.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventName.ts","./Events.ts","./En.ts","./Zh.ts"],(function(t){var e,n,r,i,s,u,a,c;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,r=t.sys,i=t.error},function(t){s=t.EventName},function(t){u=t.default},function(t){a=t.default},function(t){c=t.default}],execute:function(){n._RF.push({},"a24383d1j1FRbXaBkcPctfn","I18n",void 0);var o=t("LangType",function(t){return t.NONE="",t.ZH="zh",t.EN="en",t.PT="pt",t.JA="ja",t.KO="ko",t.DE="de",t.FR="fr",t}({})),h=t("CountryType",function(t){return t.NONE="",t.ZH="ZH",t.JP="JP",t.BR="BR",t.KR="KR",t.DE="DE",t.FR="FR",t.GB="GB",t.US="US",t.CA="CA",t.AU="AU",t}({})),f=t("default",function(){function t(){}return t.init=function(t){if(void 0===t&&(t=o.NONE),!this._init){this._init=!0;var e=t||r.language;this.switch(e)}},t.switch=function(t){if(this._curLang!==t){switch(this._curLang=t,t){case o.ZH:this._phrases=c;break;case o.EN:this._phrases=a;break;default:this._curLang=o.EN,this._phrases=a}this.updateLocalizedCmpt()}},t.updateLocalizedCmpt=function(){u.emit(s.UPDATE_LOCALIZED_CMPT)},t.getKeyByValue=function(t){if(!this._phrases)return i("[I18n.getKeyByValue] 未正确初始化"),"";for(var e in this._phrases)if(this._phrases[e]===t)return e;return""},t.getText=function(t){if(!this._phrases)return i("[I18n.getText] 未正确初始化"),"";if(!t)return"";for(var e=this._phrases.hasOwnProperty(t)?this._phrases[t]:t,n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];if(1===r.length&&"[object Object]"===Object.prototype.toString.call(r[0])){for(var u in r[0])if(r[0].hasOwnProperty(u)){var a=new RegExp("%{"+u+"}","g");e=e.replace(a,""+r[0][u])}}else r.forEach((function(t){e=e.replace(/%\{.*?\}/,""+t)}));return e},e(t,null,[{key:"curLang",get:function(){return this._curLang}},{key:"curCountry",get:function(){return this._curCountry}}]),t}());f._init=!1,f._phrases=null,f._curLang=o.NONE,f._curCountry=h.NONE,n._RF.pop()}}}));

System.register("chunks:///_virtual/InitData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalData.ts","./Loading.ts","./LocalStorageMgr.ts"],(function(t){var e,r,a,o,i,n,c,s,u,l,g,m,h,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,a=t.initializerDefineProperty,o=t.assertThisInitialized,i=t.createClass,n=t.asyncToGenerator,c=t.regeneratorRuntime},function(t){s=t.cclegacy,u=t._decorator,l=t.Node,g=t.Component},function(t){m=t.default},function(t){h=t.Loading},function(t){d=t.LocalStorageMgr}],execute:function(){var p,f,y,D,S,L,_,k;s._RF.push({},"a4f40FE9AxDTYXBweXOhZI6","InitData",void 0);var b=u.ccclass,v=u.property;t("InitData",(p=b("InitData"),f=v(h),y=v(l),p(((k=function(t){function e(){var r;return r=t.call(this)||this,a(r,"loading",L,o(r)),a(r,"bg",_,o(r)),e._ins=o(r),r}r(e,t);var s=e.prototype;return s.onLoad=function(){var t=n(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:mtec.cc.adaptBackgroundNode(this.bg);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.initUserData=function(){var t=d.getItem(d.isCommer_key);console.log("是否是新手：",t),t&&(d.clear(),console.log("初始化用户")),m.refrashPropNum=this.getOrSetLocalData(d.refrashPropNum_key,m.refrashPropNum),m.hummerPropNum=this.getOrSetLocalData(d.hummerPropNum_key,m.hummerPropNum),m.curScore=this.getOrSetLocalData(d.curScore_key,m.curScore),m.historyHighScore=this.getOrSetLocalData(d.historyHighScore_key,m.historyHighScore),m.todayHighScore=this.getOrSetLocalData(d.todayHighScore_key,m.todayHighScore),m.isCommer=this.getOrSetLocalData(d.isCommer_key,m.isCommer),console.log("是否是新手",m.isCommer),m.guideRecord=this.getOrSetLocalData(d.guideRecord_key,m.guideRecord),m.lastGameBoard=this.getOrSetLocalData(d.lastGameBoardData_key,m.lastGameBoard),m.lastLoginDate=this.getOrSetLocalData(d.lastLoginDate_key,m.lastLoginDate),this.loading.enterGame("main")},s.getOrSetLocalData=function(t,e){return d.hasItem(t)||d.setItem(t,e),d.getItem(t)},s.start=function(){},s.update=function(t){},i(e,null,[{key:"ins",get:function(){return e._ins||(e._ins=new e),e._ins}}]),e}(g))._ins=void 0,L=e((S=k).prototype,"loading",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(S.prototype,"bg",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=S))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/ios.client.ts",["cc","./NativeClient.ts"],(function(){var t;return{setters:[function(e){t=e.cclegacy},null],execute:function(){t._RF.push({},"72a2ejxxPRIEaBfu76T1JCa","ios.client",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/lib.a.implementation.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(){var e,t,r,n,a;return{setters:[function(a){e=a.asyncToGenerator,t=a.regeneratorRuntime,r=a.createForOfIteratorHelperLoose,n=a.createClass},function(e){a=e.cclegacy}],execute:function(){var o;a._RF.push({},"e5d3aV/jZpBf4/Ka4SEUPIv","lib.a.implementation",void 0),Reflect.defineProperty(String.prototype,"decodeAtoB",{get:function(){return decodeURIComponent(atob(this.valueOf()))},enumerable:!0,configurable:!1}),Reflect.defineProperty(String.prototype,"encodeBtoA",{get:function(){return btoa(encodeURIComponent(this.valueOf()))},enumerable:!0,configurable:!1}),Number.prototype.inRange=function(e,t){var r=this.valueOf();if([r,e,t].includes(NaN))return!1;var n=[r-e,r-t].map((function(e){return[-1/0,1/0].includes(e)?e<0?-1:1:e}));return n[0]*n[1]<=0},Reflect.defineProperty(Array.prototype,"lastElement",{get:function(){return this.length>0?Reflect.get(this,this.length-1):void 0},set:function(e){Reflect.set(this,this.length>0?this.length-1:0,e)},enumerable:!0,configurable:!1}),Array.prototype.forWait=e(t().mark((function e(r){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<this.length)){e.next=7;break}return e.next=4,r(this[n],n,this);case 4:n++,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)})));var i=null!=(o=window)?o:globalThis;Reflect.has(i,"mtec")||(Reflect.set(i,"mtec",{}),Reflect.set(mtec,"__mtec__","Many technologies")),["string","number","array","log","color","local","time"].forEach((function(e){Reflect.has(mtec,e)||(Reflect.set(mtec,e,{}),Reflect.set(Reflect.get(mtec,e),"__space_description__","This is a mtec subnamespace for "+e))})),mtec.vtype=function(e){var t=typeof e;return"object"==t?null==e?"null":Array.isArray(e)?"array":"object":t},mtec.same=function(e,t,r){if(e===t)return!0;var n=[e,t].map((function(e){return mtec.vtype(e)})),a=n[0],o=n[1];if(a!=o)return!![a,o].every((function(e){return["number","bigint"].includes(e)}))&&e==t;if(!["array","object"].includes(a))return e==t;r||(r={cache:[],mark:new Map,list:[]});var i=[e,t].map((function(e){if(r.mark.has(e))return r.mark.get(e);var t=mtec.string.randomToken(3,36,(function(e){return!r.list.includes(e)}));return r.list.push(t),r.mark.set(e,t),t})).sort().join("::");if(r.cache.includes(i))return!0;r.cache.push(i);var c=[e,t].map((function(e){return Reflect.ownKeys(e).filter((function(t){return null!=e[t]&&null!=e[t]})).sort()})),f=c[0],l=c[1];return!(f.length!=l.length||!f.every((function(e,t){return e==l[t]})))&&f.every((function(n){return mtec.same(e[n],t[n],r)}))},mtec.pickValueByType=function(e,t){var r=e.reduce((function(e,t){var r=mtec.vtype(t);return null==e[r]&&(e[r]=[]),Array.prototype.unshift.call(e[r],t),e}),{});return t.map((function(e){var t=Reflect.get(r,e[0]);return t?t.length>1?Array.prototype.pop.call(t):t[0]:e[1]}))},mtec.delay=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];return new Promise((function(r,a){var o=setTimeout((function(e,t){clearTimeout(o),r("function"==typeof e?e.apply(void 0,t):e)}),1e3*e,t,n)}))},mtec.drawLots=function(e){if(!(e.length<=0)){if(1==e.length)return e[0][0];for(var t,n=[],a=[],o=0,i=r(e);!(t=i()).done;){var c=t.value,f=c[0],l=c[1],u=Number(l);u>0&&(o+=u,n.push(f),a.push(o))}for(var s=Math.random()*o,m=0;s>=a[m];)m++;return n[m]}},mtec.fusionData=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(e instanceof Object){if(Array.isArray(e))r.forEach((function(t){var r;return Array.isArray(t)?(r=e).push.apply(r,t):e.push(t)}));else if(!(e instanceof Function)){var a=r.filter((function(e){return e instanceof Object&&!(e instanceof Function)})),o=a.reduce((function(e,t,r){return Reflect.ownKeys(t).forEach((function(t){return e.set(t,r)})),e}),new Map);o.forEach((function(t,r){return Reflect.set(e,r,Reflect.get(a[t],r))}))}}else"bigint"==typeof e?r.forEach((function(t){switch(typeof t){case"boolean":t=Number(t);case"object":case"undefined":t=BigInt(0);case"number":isNaN(t)&&(t=0),t=BigInt(t);break;case"symbol":t=String(t)}e+=t})):["string","symbol"].includes(typeof e)?(e=String(e),r.forEach((function(t){return e+="symbol"==typeof t?String(t):t}))):r.forEach((function(t){switch(typeof t){case"bigint":e=Number(e),isNaN(e)&&(e=BigInt(0));break;case"symbol":t=String(t)}e+=t}));return e},mtec.cloneData=function(e,t){var r,n=mtec.vtype(e);return["string","number","boolean","bigint","undefined","null"].includes(n)?e:"function"==n?Function.prototype.bind.call(e,null):"symbol"==n?Symbol(e.description):(t||(t=new Map),t.has(e)?t.get(e):(r="array"==n?[]:{},t.set(e,r),"array"==n?e.forEach((function(e){return r.push(mtec.cloneData(e))})):(Reflect.ownKeys(e).forEach((function(t){return Reflect.set(r,t,Reflect.get(e,t))})),Reflect.setPrototypeOf(r,Reflect.getPrototypeOf(e))),r))},mtec.CountAverage=function(){function e(e){this.count=0,this._average=void 0,e&&this.add(e)}var t=e.prototype;return t.add=function(e){return this.count++,this._average=this.average+(e-this.average)/this.count,this._average},t.clean=function(){this.count=0,this._average=0},n(e,[{key:"average",get:function(){var e;return null!=(e=this._average)?e:0}}]),e}(),mtec.NudityPromise=function(){function e(){var e=this;this.inited=void 0,this.status=void 0,this.result=void 0,this._resolve_call_=void 0,this._reject_call_=void 0,this.promise=void 0,this.inited=!1,this.status="waiting",this.promise=new Promise((function(t,r){e._resolve_call_=t,e._reject_call_=r,e.inited=!0,e.reply()}))}var t=e.prototype;return t.resolve=function(e){this.re_call("resolve",e)},t.reject=function(e){this.re_call("reject",e)},t.re_call=function(e,t){if("waiting"==this.status){var r=[e,t];this.status=r[0],this.result=r[1],this.reply()}},t.reply=function(){if(this.inited&&"waiting"!=this.status)switch(this.status){case"resolve":this._resolve_call_(this.result);break;case"reject":this._reject_call_(this.result)}},e}(),mtec.JsonString=function(e){if("object"!=typeof e)return JSON.stringify(e);if(null==e)return"null";var t=new Map,n=new Map,a=[],o=[e];t.set(e,Array.isArray(e)?[]:{}),n.set(e,mtec.string.randomToken(5,36,(function(e){return!a.includes(e)})));for(var i=0;i<o.length;i++){for(var c,f=o[i],l=t.get(f),u=Array.isArray(f)?mtec.array.create(f.length,(function(e){return e})):Reflect.ownKeys(f),s=[],m=r(u);!(c=m()).done;){var d=c.value,h=Reflect.get(f,d);if("object"!=typeof h)Reflect.set(l,d,h);else if(null==h)Reflect.set(l,d,null);else if(n.has(h))Reflect.set(l,d,"<-[ref]->"+n.get(h));else{var g=mtec.string.randomToken(5,36,(function(e){return!a.includes(e)})),p=Array.isArray(h)?[]:{};n.set(h,g),t.set(h,p),o.push(h),Array.isArray(f)?(Reflect.set(l,d,p),s.push([g,d])):Reflect.set(l,g+"<-[data]->"+String(d),p)}}s.length>0&&Array.isArray(f)&&l.push(s.map((function(e){return e[0]+"<-[data]->"+String(e[1])})).join(";"))}return n.get(e)+"<-[data]->"+JSON.stringify(t.get(e))},mtec.parseJson=function(e){var t,r;if(e.includes("<-[data]->")){var n=e.replace("<-[data]->","->[data]<-").split("->[data]<-");t=n[0],e=n[1]}try{r=JSON.parse(e)}catch(t){r=e}if("object"!=typeof r)return r;var a=new Map;a.set(t,r);for(var o=[r],i=function(){var e=o[c];Array.isArray(e)?("string"==typeof e.lastElement&&e.lastElement.includes("<-[data]->")&&e.pop().split(";").map((function(e){var t=e.split("<-[data]->"),r=t[0],n=t[1];return[r,Number(n)]})).forEach((function(t){return a.set(t[0],e[t[1]])})),e.forEach((function(e,t,r){if("string"==typeof e&&e.includes("<-[ref]->")){var n=e.replace("<-[ref]->","");r[t]=a.get(n)}else"object"==typeof e&&o.push(e)}))):null!=e&&Reflect.ownKeys(e).forEach((function(t){var r=Reflect.get(e,t);if("object"==typeof r)o.push(r);else if("string"==typeof r&&r.includes("<-[ref]->")){var n=r.replace("<-[ref]->","");r=a.get(n),Reflect.set(e,t,r)}if("string"==typeof t&&t.includes("<-[data]->")){Reflect.deleteProperty(e,t);var i=t.split("<-[data]->"),c=i[0],f=i[1];Reflect.set(e,f,r),a.set(c,r)}}))},c=0;c<o.length;c++)i();return r},mtec.string.random=function(e,t){var r=[[Number(e),6],[Number(t),10]].map((function(e){return isNaN(e[0])?e[1]:e[0]}));e=r[0],t=r[1],t=Math.max(2,Math.min(36,t));for(var n=Math.random().toString(t).slice(2,2+e);n.length<e;)n+=Math.random().toString(t).slice(2,2+e-n.length);return n},mtec.string.randomToken=function(e,t,r){var n=mtec.pickValueByType([t,r],[["number",10],["function",void 0]]);t=n[0],r=n[1];var a=mtec.string.random(e,t);if("function"==typeof r)for(;!r(a);)a=mtec.string.random(e,t);return a},mtec.string.getAffix=function(e){if(!e||0==e.length)return{prefix:"",suffix:"",max_length:0};var t=e[0],r=e[0],n=t.length,a=0,o=0;return e.forEach((function(e){if(e.length>o&&(o=e.length),!e.includes(t)){for(;n>0&&!e.includes(t.slice(0,n));)n--;t=t.slice(0,n)}if(!e.includes(r)){for(;a<r.length-1&&!e.includes(r.slice(a,r.length));)a++;r=r.slice(a,r.length)}})),{prefix:t,suffix:r,max_length:o}},mtec.string.normalLen=function(e,t){return(e="_"+(e="string"==typeof e?e:String(e))).padEnd(t+1,"_")},mtec.string.levenshtein=function(e,t){var r,n,a=[];for(r=0;r<=e.length;r++)a[r]=[r];for(n=0;n<=t.length;n++)a[0][n]=n;for(r=1;r<=e.length;r++)for(n=1;n<=t.length;n++)t.charAt(n-1)==e.charAt(r-1)?a[r][n]=a[r-1][n-1]:a[r][n]=Math.min(a[r-1][n],a[r][n-1],a[r-1][n-1])+1;return a[e.length][t.length]},mtec.string.findLikeStr=function(e,t){for(var n,a=t[0],o=mtec.string.levenshtein(a,e),i=r(t);!(n=i()).done;){var c=n.value;if(c===e)return c;var f=mtec.string.levenshtein(c,e);f<o&&(o=f,a=c)}return a},mtec.number.PI=Math.PI,mtec.number.RAD=Math.PI/180,mtec.number.DEG=180/Math.PI,mtec.number.inRange=function(e,t,r){var n=[e,t,r].map((function(e){return Number(e)}));return![e=n[0],t=n[1],r=n[2]].includes(NaN)&&(e<=Math.max(t,r)&&e>=Math.min(t,r))},mtec.number.getPrecision=function(e){return e=Number(e),isNaN(e)||Number.isInteger(e)?0:(e%1).toString().length-(e>=0?2:3)},mtec.number.repair=function(e){if(e=Number(e),isNaN(e))return 0;if(Number.isInteger(e))return e;var t=e.toString();if(t.length-t.indexOf(".")<17)return e;var r=t.length-1;if("9"==t[r])for(;"9"==t[r];)r--;else for(r--;"0"==t[r];)r--;var n=Math.pow(10,r-t.indexOf("."));return Math.round(e*n)/n},mtec.number.random=function(e,t,r){var n=[e,t].map((function(e){return e=Number(e),isNaN(e)?0:e}));e=n[0];var a=(t=n[1])-e;null==r&&(1==Math.abs(a)?r=2:Number.isInteger(a)?r=0:(a=mtec.number.repair(a),r=mtec.number.getPrecision(a),a==Math.pow(10,-r)&&(r+=2)));var o=Math.pow(10,r);return mtec.number.repair(e+Math.round(Math.random()*a*o)/o)},mtec.number.parse=function(e,t){var r=[t,e].map((function(e){return"number"==typeof e?e:Number(e)}));return t=r[0],e=r[1],isNaN(e)?isNaN(t)?0:t:e},mtec.number.fixedNum=function(e,t,r){var n=Math.pow(10,Math.round(mtec.number.parse(t)));return e*=n,e=!0===r?Math.floor(e):!1===r?Math.ceil(e):Math.round(e),mtec.number.repair(e/n)},mtec.number.limit=function(e,t,r){var n=[e,t,r].map((function(e){return mtec.number.parse(e,0)}));return e=n[0],t=n[1],r=n[2],Math.max(Math.min(t,r),Math.min(Math.max(t,r),e))},mtec.array.random=function(e){return Array.isArray(e)?0!=e.length?1==e.length?e[0]:e[Math.floor(Math.random()*e.length)]:void 0:e},mtec.array.randomeElement=function(e,t,r){var n,a;t=null!=(n=t)?n:1,!1===r&&(t=Math.min(t,e.length)),r=null!=(a=r)?a:t>e.length;for(var o=[];o.length<t;){var i=mtec.number.random(0,e.length-1);if(!r)for(;o.includes(i);)i=mtec.number.random(0,e.length-1);o.push(i)}return o.map((function(t){return e[t]}))},mtec.array.last=function(e,t){return Array.isArray(e)?0!=e.length?(t?(t=Number(t),t=Math.floor(isNaN(t)?0:t)+1,t=Math.max(1,Math.min(e.length,t))):t=1,e[e.length-t]):void 0:e},mtec.array.clear=function(e){return Array.isArray(e)&&e.length>0?e.splice(0,e.length):[]},mtec.array.remove=function(e,t,r){var n;n=t instanceof Function?t:function(e,r,n){return e==t};for(var a=null==r||r?[0,e.length,1]:[e.length-1,-1,-1],o=a[0],i=a[1],c=a[2];o!=i&&!n(e[o],o,e);)o+=c;return o.inRange(0,e.length-1)?e.splice(o,1)[0]:void 0},mtec.array.create=function(e,t){return new Array(e).fill(null,0,e).map((function(e,r){return t(r)}))},mtec.color.common={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},mtec.color.toHexColor=function(e){var t;return e.startsWith("#")?t=e.slice(1,7):isNaN(Number("0x"+e))||(t=e.slice(0,6)),t&&[3,4,6,8].includes(t.length)?mtec.color.normalizeHexColor("#"+t):(e=e.toLowerCase(),e=Reflect.has(mtec.color.common,e)?e:"white",Reflect.get(mtec.color.common,e))},mtec.color.normalizeHexColor=function(e){var t;return t=e.startsWith("#")&&!isNaN(Number("0x"+e.slice(1,e.length)))?e.replace("#",""):mtec.color.toHexColor(e).replace("#",""),[3,4].includes(t.length)&&(t=t.split("").map((function(e){return e+e})).join("")),t.length>6?t=t.substring(0,6):t.padEnd(6,"0"),"#"+t.toUpperCase()},mtec.color.toRGBColor=function(e){var t=mtec.color.normalizeHexColor(e),r=t.slice(1,t.length).match(/.{1,2}/g).map((function(e){return parseInt(e,16)}));return[r[0],r[1],r[2]]},mtec.color.toHSLColor=function(e){var t,r,n=mtec.color.toRGBColor(e),a=n[0],o=n[1],i=n[2],c=Math.max(a,o,i),f=Math.min(a,o,i),l=(c+f)/2;if(c===f)t=r=0;else{var u=c-f;switch(r=l>.5?u/(2-c-f):u/(c+f),c){case a:t=(o-i)/u+(o<i?6:0);break;case o:t=(i-a)/u+2;break;case i:t=(a-o)/u+4}t/=6}return[360*t,100*r,100*l].map((function(e){return Math.round(e)}))},mtec.color.RGB2Hex=function(e,t,r){return"#"+[e,t,r].map((function(e){return e.toString(16).padStart(2,"0")})).join("")},mtec.color.HSL2Hex=function(e,t,r){var n,a,o;if(e/=360,r/=100,0===(t/=100))n=a=o=r;else{var i=function(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e},c=r<.5?r*(1+t):r+t-r*t,f=2*r-c;n=i(f,c,e+1/3),a=i(f,c,e),o=i(f,c,e-1/3)}return n=Math.round(255*n),a=Math.round(255*a),o=Math.round(255*o),mtec.color.RGB2Hex(n,a,o)},mtec.color.logColorLike=function(e){var t,r=Reflect.ownKeys(mtec.color.common).filter((function(t){return t.includes(null!=e?e:"")}));if(!(r.length<=0)){var n="",a=[];r.forEach((function(e){var t=mtec.color.normalizeHexColor(Reflect.get(mtec.color.common,e)),r=mtec.color.toHSLColor(t),o=r[0],i=r[1],c=r[2];n+="%c"+e+"%c"+t;var f=mtec.color.HSL2Hex(o,i>0?100:0,c>50?20:80),l=[["background-color",t],["color",f]].map((function(e){return e.join(":")})).join(";")+";",u=[["background-color",t],["color",f]].map((function(e){return e.join(":")})).join(";")+";";a.push.apply(a,["border-top-left-radius: 0.5em 0.5em; border-bottom-left-radius: 0.5em 0.5em;"+l,u+"border-top-right-radius: 0.5em 0.5em; border-bottom-right-radius: 0.5em 0.5em;"].map((function(e){return e+"padding: 0 0.5em; font-weight: bolder;"})))})),(t=console).log.apply(t,[n].concat(a))}},mtec.color.logFullColorLine=function(e){for(var t,r,n="",a=[],o="font-weight: lighter; line-height: 5px; font-size: "+(e=null!=(t=e)?t:3)+"px;",i=0;i<360;i++)n+="%c ",a.push(o+"background-color: "+mtec.color.HSL2Hex(i,100,50));(r=console).log.apply(r,[n].concat(a))},mtec.log.tag=function(e){var t,r="",n=[];"string"==typeof e&&e.includes(":")&&e.split(";").map((function(e){return 0==(e=e.trim()).length?[]:e.split(":").map((function(e){return e.trim()}))})).filter((function(e){return 2==e.length&&e.every((function(e){return e.length>0}))})).forEach((function(e){r+="%c"+e[0];var t=mtec.color.toHSLColor(e[1]),a=t[0],o=t[1],i=t[2],c=[["background-color",mtec.color.normalizeHexColor(e[1])],["color",mtec.color.HSL2Hex(a,o>0?100:0,i>50?20:80)]].reduce((function(e,t){return e.push(t.join(":")),e}),["padding:0 0.5em","font-weight: bolder"]).join("; ")+"; ";n.push(c)})),n[0]+="border-top-left-radius: 0.5em 0.5em; border-bottom-left-radius: 0.5em 0.5em; ",n[n.length-1]+="border-top-right-radius: 0.5em 0.5em; border-bottom-right-radius: 0.5em 0.5em; ";for(var a=arguments.length,o=new Array(a>1?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];(t=console).groupCollapsed.apply(t,[r+"%c"].concat(n,[""],o)),console.trace(),console.groupEnd()},mtec.log.warn=function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];(e=mtec.log).tag.apply(e,["WARN:orange;>>:tomato"].concat(r))},mtec.local.read=function(e,t){var r=localStorage.getItem(e.encodeBtoA);return r&&(r=r.decodeAtoB,t?mtec.fusionData(t,JSON.parse(r)):t=JSON.parse(r)),t},mtec.local.save=function(e,t){localStorage.setItem(e.encodeBtoA,JSON.stringify(t).encodeBtoA)},mtec.time.ONE_DAY=864e5,mtec.time.sameDay=function(e,t){if([e,t].includes(void 0))return!1;var r=[e,t].map((function(e){return new Date(e)})),n=r[0],a=r[1];return n.toDateString()===a.toDateString()},a._RF.pop()}}}));

System.register("chunks:///_virtual/lib.b.data.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,a;return{setters:[function(e){t=e.createClass,r=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){a=e.cclegacy}],execute:function(){var i;a._RF.push({},"92871VSs1lKTrnCm6C5wGI4","lib.b.data",void 0);var o,c,l=null!=(i=window)?i:globalThis,s=e("PxiHandle",function(){function e(e,t,r,n){this.revocable=void 0,this.old=void 0,this.children=new Map,this.tgt=e,this.name=t,this.prt=r,this.blocker=n,n&&this.in(n),this.revocable=Proxy.revocable(e,this),this.old=Array.isArray(e)?[]:{},this.backup()}var a=e.prototype;return a.getGetCall=function(e){var t;return this.blocker&&this.blocker.get&&Reflect.has(this.blocker.get,e)&&(t=Reflect.get(this.blocker.get,e)),t},a.getSetCall=function(e){var t;return this.blocker&&this.blocker.set&&Reflect.has(this.blocker.set,e)&&(t=Reflect.get(this.blocker.set,e)),t},a.backup=function(e){var t;return void 0===e?(t=mtec.cloneData(this.target),this.old=t):(t=Reflect.get(this.target,e),t=mtec.cloneData(t),Reflect.set(this.old,e,t)),t},a.valueOf=function(){var e;if(Array.isArray(this.tgt)){e=[];for(var t=this.proxy,r=0;r<t.length;r++)e.push(Reflect.get(t,r))}else{e={};var n=this.proxy;Reflect.ownKeys(n).forEach((function(t){return Reflect.set(e,t,Reflect.get(n,t))}))}return e},a.publish=function(){var e=r(n().mark((function e(t,r,a){var i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0!==t&&(i=this.path+"."+String(t),h.publish(i,r,a)),this.parent&&this.parent.publish(this.name,this.old,this.target);case 2:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),a.in=function(e){var t=this;void 0===this.blocker&&(this.blocker={});var r=[];Reflect.has(e,"get")&&(void 0===this.blocker.get&&(this.blocker.get={}),Reflect.ownKeys(e.get).forEach((function(n){Reflect.set(t.blocker.get,n,Reflect.get(e.get,n)),r.includes(n)||r.push(n)}))),Reflect.has(e,"set")&&(void 0===this.blocker.set&&(this.blocker.set={}),Reflect.ownKeys(e.set).forEach((function(n){Reflect.set(t.blocker.set,n,Reflect.get(e.set,n)),r.includes(n)||r.push(n)}))),Reflect.ownKeys(e).filter((function(e){return!["get","set"].includes(e)})).forEach((function(r){return Reflect.has(e,r)?Reflect.set(t.blocker,r,Reflect.get(e,r)):void 0})),r.filter((function(e){var r=Reflect.get(t.tgt,e);return"object"==typeof r&&null!==r})).forEach((function(e){var r=Reflect.get(t.tgt,e);if(!t.children.has(e)||t.children.get(e).target!==r){var n=h.proxy(r,String(e),t).handle;t.children.set(e,n)}}))},a.revoke=function(){this.children.forEach((function(e){return e.revoke()})),this.children.clear(),h.revoke(this),this.revocable.revoke()},a.get=function(e,t,r){var n,a;if(null!=(n=this.blocker)&&null!=(n=n.get)&&null!=(n=n.ignore)&&n.includes(t))a=Reflect.get(e,t);else if("function"==typeof(a=this.children.has(t)?this.children.get(t).proxy:Reflect.get(e,t)))a=Reflect.apply(Function.bind,a,[r]);else{var i=this.getGetCall(t);a=i?i(r,a):a}if("object"==typeof a&&null!==a&&!this.children.has(t)){var o=h.proxy(a,String(t),this).handle;this.children.set(t,o)}return a},a.set=function(e,t,r,n){var a;if(this.blocker&&this.blocker.set&&this.blocker.set.ignore&&this.blocker.set.ignore.includes(t))return Reflect.set(e,t,void 0),!0;var i=this.backup(t),o=this.getSetCall(t);if("object"==typeof r&&null!==r&&!this.children.has(t)){var c=h.proxy(r,String(t),this).handle;this.children.set(t,c)}var l=o?o(n,i,r):r;if(this.children.has(t)&&this.children.get(t).target!==l){var s=this.children.get(t);if(l)if(Array.isArray(l)){var u;s.proxy.splice(0,s.proxy.length),(u=s.proxy).push.apply(u,l)}else Object.assign(s.proxy,l);else s.revoke(),this.children.delete(t)}return Reflect.set(e,t,this.children.has(t)?this.children.get(t).valueOf():l),null!=(a=this.blocker)&&a.afterSet&&this.blocker.afterSet(t,i,l,this),this.publish(t,i,l),!0},t(e,[{key:"proxy",get:function(){return this.revocable.proxy}},{key:"target",get:function(){return this.tgt}},{key:"parent",get:function(){return this.prt}},{key:"path",get:function(){return this.parent?this.parent.path+"."+this.name:this.name}}]),e}()),h=e("DataProxy",function(){function e(){}return e.proxy=function(t,r,n){var a,i;if(void 0===n&&(n=null),e.id_map.has(t)){var o=e.id_map.get(t),c=e.record.get(o),l=(c[0],c[1]),h=c[2];a=l,h=h}else{var u=mtec.string.randomToken(8,36,(function(t){return!e.record.has(t)}));a=(i=new s(t,null!=r?r:u,n)).proxy,[t,i,i.proxy].forEach((function(t){return e.id_map.set(t,u)})),e.record.set(u,[t,i.proxy,i])}return{proxy:a,handle:i}},e.hasProxy=function(t){return e.id_map.has(t)},e.initProxy=function(t,r,n,a,i){void 0===n&&(n=!1);var o=e.proxy(r,t);if(n){var c=(null!=i?i:"")+t;mtec.local.read(c,r),o.handle.in({afterSet:function(e,t,r,n){mtec.local.save(c,n.target)}})}return a&&o.handle.in(a),Reflect.set(l,"data_"+t,o.proxy),o.proxy},e.revoke=function(t){if(e.id_map.has(t)){var r=e.id_map.get(t),n=e.record.get(r),a=n[0],i=n[1],o=n[2];[a,i,o].forEach((function(t){return e.id_map.delete(t)}));var c=[],l=o.path;e.call_pool.forEach((function(e,t){return t.startsWith(l)?c.push(t):void 0})),c.forEach((function(t){return e.call_pool.delete(t)})),o.revoke(),e.record.delete(r)}},e.monitor=function(t,r){var n=e.id_map.get(t);if(e.record.has(n)){var a=e.record.get(n),i=(a[0],a[1],a[2].path);e.monitor_call.has(i)||e.monitor_call.set(i,[]),e.monitor_call.get(i).push(r)}else mtec.log.tag("无法对未代理的实例进行监听: orange",t)},e.free=function(t){var r=e.id_map.get(t);if(e.record.has(r)){var n=e.record.get(r),a=(n[0],n[1],n[2].path);e.monitor_call.has(a)&&e.monitor_call.delete(a)}},e.follow=function(t,r,n,a){if(void 0===a&&(a=!0),e.id_map.has(t)){var i=e.record.get(e.id_map.get(t))[2].path+"."+r.toString();if(e.call_pool.has(i)||e.call_pool.set(i,[]),e.call_pool.get(i).push(n),a){var o=e.record.get(e.id_map.get(t)),c=o[0],l=o[1];n(c[r],l[r])}return{path:i,call:n}}mtec.log.tag("无法对未代理的实例进行监听: orange",t)},e.cancel=function(t){if(e.call_pool.has(t.path)){var r=e.call_pool.get(t.path);r.length>0&&r.splice(r.indexOf(t.call),1),r.length<=0&&e.call_pool.delete(t.path)}},e.out=function(t,r,n){var a=e.record.get(e.id_map.get(t))[2];if(a){var i=a.path+"."+r.toString();e.cancel({path:i,call:n})}},e.hasFollow=function(t,r){var n=e.id_map.get(t);if(void 0===n)return!1;var a=e.record.get(n)[2];if(void 0===a)return!1;var i=a.path+"."+r.toString(),o=e.call_pool.get(i);return void 0!==o&&o.length>0},e.updateDelay=function(){var t=performance.now(),r=t-e.delay_stamp;e.delay_stamp=t,r<=30&&r>0&&e.delay.add(r)},e.packaging=function(){if(0!==e.record_map.size){var t=Array.from(e.record_map);e.record_map.clear();var r=t.filter((function(t){return e.call_pool.has(t[0])})).map((function(e){return{path:e[0],data:e[1]}}));r.length>0?e.taskLoop(r):e.tasking=!1}},e.taskLoop=function(){var t=r(n().mark((function t(r){var a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=n().mark((function t(){var a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.shift(),t.next=3,Promise.allSettled(e.call_pool.get(a.path).map((function(e){return new Promise((function(t,r){e.apply(void 0,a.data),t(void 0)}))})));case 3:e.distributeTask(a);case 4:case"end":return t.stop()}}),t)}));case 1:if(!(r.length>0)){t.next=5;break}return t.delegateYield(a(),"t0",3);case 3:t.next=1;break;case 5:e.record_map.size>0?e.packaging():e.tasking=!1;case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.distributeTask=function(){var t=r(n().mark((function t(r){var a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=r.path.split("."),e.monitor_call.has(a[0])&&e.monitor_call.get(a[0]).forEach((function(e){return e.apply(void 0,[r.path].concat(r.data))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.publish=function(t,r,n){if(e.record_map.set(t,[r,n]),e.tasking)e.updateDelay();else{e.tasking=!0;var a=setTimeout((function(e){e.packaging(),clearTimeout(a)}),e.delay.average,e)}},e}());h.id_map=new Map,h.record=new Map,h.monitor_call=new Map,h.call_pool=new Map,h.tasking=!1,h.record_map=new Map,h.delay=((c=new(Reflect.has(null!=(o=window)?o:globalThis,"hnc")&&mtec.CountAverage?mtec.CountAverage:function(){function e(e){this.count=0,this._average=void 0,e&&this.add(e)}var r=e.prototype;return r.add=function(e){return this.count++,this._average=this.average+(e-this.average)/this.count,this._average},r.clean=function(){this.count=0,this._average=0},t(e,[{key:"average",get:function(){var e;return null!=(e=this._average)?e:0}}]),e}())).add(30),c),h.delay_stamp=performance.now(),a._RF.pop()}}}));

System.register("chunks:///_virtual/lib.c.cc.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(){var e,t,n,i,c,r,o,a,u,s,f,l,m,h,g,d,p,v;return{setters:[function(t){e=t.createClass},function(e){t=e.cclegacy,n=e.game,i=e.assetManager,c=e.resources,r=e.warn,o=e.Component,a=e.UITransform,u=e.Sprite,s=e.v3,f=e.Vec3,l=e.Vec2,m=e.v2,h=e.Vec4,g=e.v4,d=e.director,p=e.Canvas,v=e.view}],execute:function(){var _;t._RF.push({},"e72647I2oBCn6Q+/OQ/u0ym","lib.c.cc",void 0);var y=null!=(_=window)?_:globalThis;Reflect.has(y,"mtec")||(Reflect.set(y,"mtec",{}),Reflect.set(mtec,"__mtec__","Many technologies")),["sp","size","vector","cc"].forEach((function(e){Reflect.has(mtec,e)||(Reflect.set(mtec,e,{}),Reflect.set(Reflect.get(mtec,e),"__space_description__","This is a mtec subnamespace for "+e))})),Reflect.defineProperty(mtec.cc,"initTime",{get:function(){return Reflect.get(n,"_initTime")},enumerable:!0,configurable:!1}),Reflect.defineProperty(mtec.cc,"totalTime",{get:function(){return n.totalTime},enumerable:!0,configurable:!1}),Reflect.defineProperty(mtec.cc,"frameStartTime",{get:function(){return n.frameStartTime-mtec.cc.initTime},enumerable:!0,configurable:!1}),Reflect.defineProperty(mtec.cc,"residueTime",{get:function(){return mtec.cc.frameStartTime+mtec.cc.frameTime-mtec.cc.totalTime},enumerable:!0,configurable:!1}),Reflect.defineProperty(mtec.cc,"frameTime",{get:function(){return n.frameTime},enumerable:!0,configurable:!1}),Reflect.defineProperty(mtec.cc,"is_long_screen",{get:function(){var e=[mtec.size.canvasSize,mtec.size.designSize].map((function(e){return e.width/e.height})),t=e[0];return e[1]>t},enumerable:!0,configurable:!1}),"undefined"!=typeof requestIdleCallback?mtec.cc.IdleCallback=function(e,t,n,i){i?(Reflect.has(i,"start_stamp")||(i.start_stamp=performance.now()),Reflect.has(i,"timeout")||(i.timeout=100)):i={start_stamp:performance.now(),timeout:100},requestIdleCallback((function(){mtec.cc.residueTime>0||performance.now()-i.start_stamp>=i.timeout?Promise.resolve(e.apply(void 0,t)).then((function(e){return"function"==typeof n?n(e,t):void 0})):mtec.cc.IdleCallback(e,t,n,i)}))}:"undefined"!=typeof requestAnimationFrame?mtec.cc.IdleCallback=function(e,t,n,i){i?(Reflect.has(i,"start_stamp")||(i.start_stamp=performance.now()),Reflect.has(i,"timeout")||(i.timeout=100)):i={start_stamp:performance.now(),timeout:100},requestAnimationFrame((function(){mtec.cc.residueTime>0||performance.now()-i.start_stamp>=i.timeout?Promise.resolve(e.apply(void 0,t)).then((function(e){return"function"==typeof n?n(e,t):void 0})):mtec.cc.IdleCallback(e,t,n,i)}))}:mtec.cc.IdleCallback=function(e,t,n,i){i?(Reflect.has(i,"start_stamp")||(i.start_stamp=performance.now()),Reflect.has(i,"timeout")||(i.timeout=100)):i={start_stamp:performance.now(),timeout:100},setTimeout((function(){mtec.cc.residueTime>0||performance.now()-i.start_stamp>=i.timeout?Promise.resolve(e.apply(void 0,t)).then((function(e){return"function"==typeof n?n(e,t):void 0})):mtec.cc.IdleCallback(e,t,n,i)}),0)},mtec.cc.frameWhile=function(e,t){if(!e||!Array.isArray(e)||e.length<=0)return Promise.resolve(0);var n=new mtec.NudityPromise;return e.forEach((function(i,c){return mtec.cc.IdleCallback(t,[i,c,e],(function(){return c==e.length-1?n.resolve(0):void 0}))})),n.promise},mtec.cc.loadBundle=function(e){return new Promise((function(t,n){i.loadBundle(e,null,(function(e,n){t(e?void 0:n||void 0)}))}))},mtec.cc.loadRes=function(e,t,n,i){var o=mtec.pickValueByType([n,i],[["object",c],["function",void 0]]);n=o[0],i=o[1];var a=n.get(e,t);a?i&&i(a):n.load(e,t,(function(n,c){c?i&&i(c):r("资源加载失败：",e,t,n)}))},mtec.cc.loadResAsync=function(e,t,n){var i;return n=null!=(i=n)?i:c,new Promise((function(i,c){var o=n.get(e,t);o?i(o):n.load(e,t,(function(n,c){c?i(c):r("资源加载失败：",e,t,n)}))}))},mtec.cc.creatEventHandle=function(e){return Object.assign(new o.EventHandler,e)},mtec.cc.VecAssist=function(){function t(e,t){if(this.inner=void 0,this.container=void 0,this.__vec__=void 0,e.parent){var n=[e,t=t&&t.isValid?t:e.parent].map((function(e){return e.getComponent(a)}));this.inner=n[0],this.container=n[1],this.__vec__=s()}else mtec.log.tag("node<"+e.name+"> 不在场景中，无法使用坐标辅助类的功能!: red")}return t.prototype.getPosition=function(e,t){if(e.includes("top")||e.includes("bottom")){var n=t;t=e,e=n,n=void 0}return this.vec.set(e?"center"==e?this.center.x:Reflect.get(this,e):this.inner.node.position.x,t?"center"==t?this.center.y:Reflect.get(this,t):this.inner.node.position.y,this.inner.node.position.z),this.vec},t.getPosition=function(e,t,n,i){var c;if("string"==typeof t){var r=[t,n];n=r[0],i=r[1],t=void 0}var o=new mtec.cc.VecAssist(e,t),a=o.getPosition(null!=(c=n)?c:"center",i);return o=null,a},e(t,[{key:"container_upper",get:function(){return this.container.height*(1-this.container.anchorY)}},{key:"container_bottom",get:function(){return this.container.height*this.container.anchorY}},{key:"container_left",get:function(){return this.container.width*this.container.anchorX}},{key:"container_right",get:function(){return this.container.width*(1-this.container.anchorX)}},{key:"inner_upper",get:function(){return this.inner.height*(1-this.inner.anchorY)}},{key:"inner_bottom",get:function(){return this.inner.height*this.inner.anchorY}},{key:"inner_left",get:function(){return this.inner.width*this.inner.anchorX}},{key:"inner_right",get:function(){return this.inner.width*(1-this.inner.anchorX)}},{key:"top",get:function(){return this.container_upper-this.inner_upper}},{key:"bottom",get:function(){return this.inner_bottom-this.container_bottom}},{key:"left",get:function(){return this.inner_left-this.container_left}},{key:"right",get:function(){return this.container_right-this.inner_right}},{key:"over_top",get:function(){return this.container_upper+this.inner_bottom}},{key:"over_bottom",get:function(){return-this.container_bottom-this.inner_upper}},{key:"over_left",get:function(){return-this.container_left-this.inner_right}},{key:"over_right",get:function(){return this.container_right+this.inner_left}},{key:"center",get:function(){var e=(.5-this.container.anchorX)*this.container.width+(this.inner.anchorX-.5)*this.inner.width,t=(.5-this.container.anchorY)*this.container.height+(this.inner.anchorY-.5)*this.inner.height;return s(e,t,this.inner.node.position.z)}},{key:"vec",get:function(){return this.__vec__}}]),t}(),mtec.cc.skinPeeler=function(e,t,n){var i,c,r=e.getComponent(a),o=r.contentSize.clone(),s=t.originalSize.clone(),f=e.getComponent(u);if(f||(f=e.addComponent(u)),f.spriteFrame=t,"boolean"==typeof(n=null==(i=n)||i)||n.width===n.height)"boolean"!=typeof n&&(n=n.width),c=Math[n?"min":"max"](o.width/s.width,o.height/s.height);else{var l=n.width?"width":"height";c=o[l]/s[l]}r.setContentSize(s.width*c,s.height*c)},mtec.cc.getWorldPosition=function(e,t){if(e&&e.isValid)return e.getWorldPosition(null!=t?t:s())},mtec.cc.getLocalPosition=function(e,t,n){if(![e&&e.isValid,t instanceof f||t&&t.isValid].includes(!1))return e.getComponent(a).convertToNodeSpaceAR(t instanceof f?t:mtec.cc.getWorldPosition(t),null!=n?n:s())},mtec.cc.v2=function(e,t){if(e instanceof l)return e;var n,i;"number"==typeof e?(n=e,t=null!=(i=t)?i:n):(n=e.x,t=e.y);return m(n,t)},mtec.cc.v3=function(e,t,n){if(e instanceof f)return e;var i,c,r;if("number"==typeof e)i=e,t=null!=(c=t)?c:i,n=null!=(r=n)?r:t;else if(e instanceof l){var o;n=null!=(o=t)?o:0,i=e.x,t=e.y}else e instanceof h&&(i=e.x,t=e.y,n=e.z);return s(i,t,n)},mtec.cc.v4=function(e,t,n,i){if(e instanceof h)return e;var c,r,o,a;if("number"==typeof e)c=e,t=null!=(r=t)?r:c,n=null!=(o=n)?o:t,i=null!=(a=i)?a:n;else if(e instanceof l){var u,s;i=null!=(u=n)?u:0,n=null!=(s=t)?s:0,c=e.x,t=e.y}else if(e instanceof f){var m;i=null!=(m=n)?m:0,c=e.x,t=e.y,n=e.z}return g(c,t,n,i)},mtec.cc.adaptBackgroundNode=function(e,t){var n;if((t=null!=(n=t)?n:e.parent)&&[e,t].every((function(e){return e.isValid}))){var i,c,r=[t,e].map((function(e){var t=e.getComponent(a);return t||(t=e.addComponent(a)),t})),o=r[0],s=r[1],f=[o,i=e.getComponent(u)?e.getComponent(u).spriteFrame.originalSize:s.contentSize].map((function(e){return e.width/e.height}));c=f[0]>f[1]?o.width/i.width:o.height/i.height,s.setContentSize(i.width*c,i.height*c)}},Reflect.defineProperty(mtec.cc,"canvas",{get:function(){return d.getScene().getComponentInChildren(p)},enumerable:!0,configurable:!1}),Reflect.defineProperty(mtec.size,"designSize",{get:function(){return v.getDesignResolutionSize()},enumerable:!0,configurable:!1}),Reflect.defineProperty(mtec.size,"canvasSize",{get:function(){return mtec.cc.canvas.getComponent(a).contentSize},enumerable:!0,configurable:!1}),mtec.size.innerRatio=function(e,t){var n=[t,e].map((function(e){return e.width/e.height})),i=n[0];return n[1]>i?t.width/e.width:t.height/e.height},mtec.size.exterRatio=function(e,t){var n=[e,t].map((function(e){return e.width/e.height}));return n[0]>n[1]?t.height/e.height:t.width/e.width},mtec.vector.distance=function(e,t){return[e,t].map((function(e){return e instanceof l})).includes(!0)?l.subtract(m(),mtec.cc.v2(e),mtec.cc.v2(t)).length():[e,t].map((function(e){return e instanceof f})).includes(!0)?f.subtract(s(),mtec.cc.v3(e),mtec.cc.v3(t)).length():h.subtract(g(),mtec.cc.v4(e),mtec.cc.v4(t)).length()},t._RF.pop()}}}));

System.register("chunks:///_virtual/Loading.ts",["./rollupPluginModLoBabelHelpers.js","cc","./InitData.ts"],(function(e){var r,t,n,o,s,a,i,c,l,u,p,g,f,d,h;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){i=e.cclegacy,c=e._decorator,l=e.Sprite,u=e.Node,p=e.director,g=e.Tween,f=e.tween,d=e.Component},function(e){h=e.InitData}],execute:function(){var y,m,v,P,B,b,D,L,w;i._RF.push({},"52961Xb6blPZqC/aSnsNg1Z","Loading",void 0);var k=c.ccclass,S=c.property;e("Loading",(y=k("Loading"),m=S(l),v=S(u),P=S(u),y((D=r((b=function(e){function r(){for(var r,t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s))||this,n(r,"progressBar",D,o(r)),n(r,"startBtn",L,o(r)),n(r,"progress",w,o(r)),r.fakeProgress=void 0,r.progressData={fakeProgress:0},r.sceneLoaded=!1,r}t(r,e);var i=r.prototype;return i.start=function(){this.preloadScene("main")},i.update=function(e){},i.startGame=function(){var e=s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.startBtn.active=!1,this.progress.active=!0,h.ins.initUserData();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),i.preloadScene=function(e){var r=this;this.progressData.fakeProgress=0,this.sceneLoaded=!1,p.preloadScene(e,this.onProgress.bind(this),(function(t,n){t?console.error("Failed to load scene: "+e,t):r.sceneLoaded=!0}))},i.onProgress=function(e,r){},i.updateProgressBar=function(){this.progressBar&&this.progressBar.fillRange<1&&(this.progressBar.fillRange=this.progressData.fakeProgress)},i.completeLoading=function(e){var r=this;g.stopAllByTarget(this.progressData),f(this.progressData).to(1,{fakeProgress:1},{onUpdate:function(){r.updateProgressBar()},onComplete:function(){r.scheduleOnce((function(){p.loadScene(e,(function(e){e?console.error("Failed to switch to scene: main",e):console.log("Scene main loaded successfully!")}))}),.1)}}).start()},i.updateProgress=function(e){var r=this;console.log("更新loading进度条"),g.stopAllByTarget(this.progressData),f(this.progressData).to(3,{fakeProgress:e},{onUpdate:function(){r.updateProgressBar()}}).start()},i.enterGame=function(e){this.completeLoading(e)},r}(d)).prototype,"progressBar",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=r(b.prototype,"startBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=r(b.prototype,"progress",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=b))||B));i._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizedLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventName.ts","./Events.ts","./I18n.ts"],(function(t){var e,n,i,o,r,a,l,p,s,c,u,y,h,d,f,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){a=t.cclegacy,l=t._decorator,p=t.CCString,s=t.error,c=t.Label,u=t.RichText,y=t.Component},function(t){h=t.EventName},function(t){d=t.preloadEvent,f=t.eventsOnLoad},function(t){b=t.default}],execute:function(){var _,g,L,v,x,K,m,A;a._RF.push({},"102e7zRjoBIIaR3Sun9XFVJ","LocalizedLabel",void 0);var O=l.ccclass,z=l.property,C=l.executeInEditMode,I=l.menu;t("default",(_=f(),g=I("Framework/I18N/LocalizedLabel"),L=z(p),v=z({type:p,tooltip:"i18n key"}),x=d(h.UPDATE_LOCALIZED_CMPT),O(K=_(K=C(K=g((A=e((m=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"_textKey",A,o(e)),e._option=[],e._label=null,e}n(e,t);var a=e.prototype;return a.onLoad=function(){try{b.init(),this.updateLabel()}catch(t){s(t)}},a.update=function(){},a.updateLabel=function(){var t=this._option instanceof Array?b.getText.apply(b,[this._textKey].concat(this._option)):b.getText(this._textKey,this._option);t&&(t=this.replaceLabelString(t,this._option instanceof Array?this._option:[]),this.label.string=t)},a.replaceLabelString=function(t,e){return t.replace(/@\{(\d+)\}/g,(function(t,n){var i=e[parseInt(n)-1];return void 0!==i?String(i):t}))},a.setTextKeyAndOption=function(t){this._textKey=t;for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.setOption.apply(this,n)},a.setOption=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];1!==e.length||"object"!=typeof e[0]||Array.isArray(e[0])?this._option=e:this._option=e[0],this.updateLabel()},a.clear=function(){this.label.string="",this.textKey=""},r(e,[{key:"textKey",get:function(){return this._textKey},set:function(t){this._textKey=t,this.updateLabel()}},{key:"label",get:function(){return this._label||(this._label=this.node.getComponent(c)||this.node.getComponent(u),this._label)?this._label:(s("Failed to update localized label, label component is invalid!"),null)}}]),e}(y)).prototype,"_textKey",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),e(m.prototype,"textKey",[v],Object.getOwnPropertyDescriptor(m.prototype,"textKey"),m.prototype),e(m.prototype,"updateLabel",[x],Object.getOwnPropertyDescriptor(m.prototype,"updateLabel"),m.prototype),K=m))||K)||K)||K)||K));a._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizedSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventName.ts","./Events.ts","./ResSprite.ts","./I18n.ts"],(function(e){var t,r,a,i,o,n,s,c,p,u,l,m,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.createClass},function(e){i=e.cclegacy,o=e._decorator,n=e.error,s=e.Component},function(e){c=e.EventName},function(e){p=e.preloadEvent,u=e.eventsOnLoad},function(e){l=e.default},function(e){m=e.default,d=e.CountryType}],execute:function(){var y,g,h,f,_,v;i._RF.push({},"80273mEm6FKI6l1JI2ok2rH","LocalizedSprite",void 0);var k=o.ccclass,I=o.menu,S=o.requireComponent;e("default",(y=u(),g=S(l),h=I("Framework/I18N/LocalizedSprite"),f=p(c.UPDATE_LOCALIZED_CMPT),k(_=y(_=g(_=h((t((v=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this)._sprite=null,t._imageKey="",t}r(t,e);var i=t.prototype;return i.onLoad=function(){try{m.init(),this._sprite=this.getComponent(l),this._sprite.spriteFrame&&(this.imageKey=this._sprite.spriteFrame.name)}catch(e){n(e)}},i.updateSprite=function(){if(this.imageKey){var e="";switch(m.curCountry){case d.ZH:e="texture/localizedImage/zh/";break;case d.JP:e="texture/localizedImage/jp/";break;case d.DE:case d.FR:e="texture/localizedImage/de/";break;case d.KR:e="texture/localizedImage/kr/";break;case d.GB:e="texture/localizedImage/gb/";break;case d.US:case d.CA:case d.AU:e="texture/localizedImage/us/";break;default:return}e+=this.imageKey,this._sprite.setSpriteFrame(e+"/spriteFrame")}},a(t,[{key:"imageKey",get:function(){return this._imageKey},set:function(e){this._imageKey!==e&&(this._imageKey=e,this.updateSprite())}}]),t}(s)).prototype,"updateSprite",[f],Object.getOwnPropertyDescriptor(v.prototype,"updateSprite"),v.prototype),_=v))||_)||_)||_)||_));i._RF.pop()}}}));

System.register("chunks:///_virtual/LocalStorageMgr.ts",["cc","./frame.config.ts"],(function(e){var r,o,t;return{setters:[function(e){r=e.cclegacy,o=e._decorator},function(e){t=e.APP_NAME}],execute:function(){var a,i;r._RF.push({},"d1dafo55opOmrtv2e60K7Y+","LocalStorageMgr",void 0);var c=o.ccclass;o.property,e("LocalStorageMgr",c("LocalStorageMgr")(((i=function(){function e(){}return e.setItem=function(e,r){try{localStorage.setItem(t+e,JSON.stringify(r))}catch(r){console.error("Failed to save data to localStorage: "+(t+e),r)}},e.getItem=function(e,r){void 0===r&&(r=null);try{var o=localStorage.getItem(t+e);return null==o?r:JSON.parse(o)}catch(o){return console.error("Failed to retrieve data from localStorage: "+(t+e),o),r}},e.hasItem=function(e){try{var r=localStorage.getItem(t+e);return null!=r}catch(r){return console.error("Failed to check localStorage for key: "+(t+e),r),!1}},e.removeItem=function(e){try{localStorage.removeItem(t+e)}catch(r){console.error("Failed to remove data from localStorage: "+(t+e),r)}},e.clear=function(){try{localStorage.clear()}catch(e){console.error("Failed to clear localStorage",e)}},e}()).userId_key="userId_key",i.country_key="country_key",i.language_key="language_key",i.device_id_key="device_id_key",i.localdataStore={initUser:"initUser",userInfo:"userInfo",ConfCountry:"ConfCountry",ConfCommon:"ConfCommon",WithdrawConfig:"WithdrawConfig",GetNewComerReward:"GetNewComerReward",LotteryConfig:"LotteryConfig",ForcePopConfig:"ForcePopConfig",ForcePopReport:"ForcePopReport",MissionReport:"MissionReport",EliminateReport:"EliminateReport",WithDraw:"WithDraw"},i.isWDNewWard_key="isWDNewWard_key",i.gameInitFinish_key="gameInitFinish_key",i.fullscTimes_key="fullscTimes_key",i.refrashPropNum_key="refrashProp_key",i.hummerPropNum_key="hummerProp_key",i.luckyWardNorgetTimes_key="luckyWardNorgetTimes_key",i.curlotteryTimes_key="curlotteryTimes_key",i.isCommer_key="isCommer_key",i.guideRecord_key="guideRecord_key",i.localBoard_key="localBoard_key",i.elimiTimes_key="elimiTimes_key",i.tempElimiTimes_lucky_key="tempElimiTimes_lucky_key",i.tempElimiTimes_lottery_key="tempElimiTimes_lottery_key",i.lastGameBoardData_key="lastGameBoardData_key",i.lastLoginDate_key="lastLoginDate_key",i.historyHighScore_key="historyHighScore_key",i.todayHighScore_key="todayHighScore_key",i.curScore_key="curScore_key",i.wdlevelCahs_key="wdlevelCahs_key",i.redPacket_key="redPacket_key",a=i))||a);r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./lib.a.implementation.ts","./lib.b.data.ts","./lib.c.cc.ts","./data.global.center.ts","./data.global.clock.ts","./data.global.trigger.ts","./audio-manager.ts","./richtext.check.ts","./scroll.list.ts","./ui.base.ts","./ui.origin.ts","./ui.pop-up.ts","./main.ts","./parse-image.ts","./frame.config.ts","./NativeClient.ts","./android.client.ts","./ios.client.ts","./virtual.client.ts","./HttpService.ts","./AdaptToScreen.ts","./AudioManager.ts","./EventName.ts","./Events.ts","./PoolManager.ts","./QuickTween.ts","./Util.ts","./Res.ts","./ResSprite.ts","./RichTextAutoResize.ts","./Url.ts","./BlockBa.ts","./BlockController.ts","./BlockData.ts","./GlobalData.ts","./GridBlockMgr.ts","./Guide.ts","./InitData.ts","./Loading.ts","./LocalStorageMgr.ts","./MainGameLogic.ts","./TouchMgr.ts","./I18n.ts","./LocalizedLabel.ts","./LocalizedSprite.ts","./En.ts","./Zh.ts","./page.home.ts","./popup.ts","./popup.config.ts","./popup.gameoverpage.ts","./popup.settingpage.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/main.ts",["cc","./parse-image.ts"],(function(){var e,n,t;return{setters:[function(c){e=c.cclegacy,n=c.game,t=c.Game},null],execute:function(){e._RF.push({},"b34d04mVwdCiqy98M8enCeq","main",void 0),n.on(t.EVENT_ENGINE_INITED,(function(){})),e._RF.pop()}}}));

System.register("chunks:///_virtual/MainGameLogic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts","./LocalizedLabel.ts","./PoolManager.ts","./popup.ts","./Url.ts","./BlockData.ts","./GlobalData.ts","./GridBlockMgr.ts","./Guide.ts","./LocalStorageMgr.ts","./TouchMgr.ts"],(function(e){var t,r,n,a,o,i,c,s,u,l,p,f,h,d,m,b,g,S,y,v,k,P,x,L,O,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.asyncToGenerator,i=e.regeneratorRuntime,c=e.createClass},function(e){s=e.cclegacy,u=e._decorator,l=e.Node,p=e.Label,f=e.tween,h=e.Component,d=e.v3,m=e.UIOpacity},function(e){b=e.AudioManager},function(e){g=e.default},function(e){S=e.default},function(e){y=e.Popup},function(e){v=e.Url},function(e){k=e.GridBoardData},function(e){P=e.default},function(e){x=e.GridBlockMgr},function(e){L=e.Guide},function(e){O=e.LocalStorageMgr},function(e){I=e.TouchMgr}],execute:function(){var w,C,B,N,F,H,M,U,D,A,_,E,G,T,j,z,R,X,K,Y,W,q,J,Q;s._RF.push({},"9ab70Bdpp5Om6fsPx8C1eT7","MainGameLogic",void 0);var V=u.ccclass,Z=u.property;e("MainGameLogic",(w=V("MainGameLogic"),C=Z(l),B=Z(l),N=Z(p),F=Z(p),H=Z(p),M=Z(p),U=Z(p),D=Z(l),A=Z(l),_=Z(l),w(((Q=function(e){function t(){var r;return r=e.call(this)||this,n(r,"background",T,a(r)),n(r,"guide",j,a(r)),n(r,"curScoreLabel",z,a(r)),n(r,"historyScoreLabel",R,a(r)),n(r,"todayScoreLabel",X,a(r)),r.curScore=0,r.spaciCashTotal=0,r.sssspaciCashTotal=0,n(r,"refrashPropLabel",K,a(r)),n(r,"hummerPropLabel",Y,a(r)),r.lotteryData=null,r.lastReturnedIndex=0,n(r,"tarPropRefrashIcon",W,a(r)),n(r,"tarPropHummerIcon",q,a(r)),n(r,"effectsContainer",J,a(r)),r.propInUse=!1,r.colorMap={BLUE:"#00B8FF",DEEPBLUE:"#00008B",GREEN:"#008000",ORANGE:"#FFA500",PURPLE:"#800080",RED:"#FF0000",YELLOW:"#FFFF00"},t._ins=a(r),r}r(t,e);var s=t.prototype;return s.start=function(){b.ins.play(v.AUDIO.BGM),this.gameStart()},s.update=function(e){},s.gameStart=function(){!P.isCommer||P.guideRecord>=5?(P.isCommer=!1,O.setItem(O.isCommer_key,P.isCommer),x.ins.generateBoard_effect(P.lastGameBoard),this.scheduleOnce((function(){x.ins.generateSpecificSelectionBlock(!1)}),2),this.guide.active=!1):(console.log("开启新手引导"),this.guide.active=!0),mtec.cc.adaptBackgroundNode(this.background),this.checkAndUpdateDailyHighScore(P.lastLoginDate),this.updatePropNum()},s.gameOver=function(){this.scheduleOnce(o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.Gameoverpage();case 2:case"end":return e.stop()}}),e)}))),3)},s.reStartGame=function(){this.curScore=0,P.curScore=0,O.setItem(O.curScore_key,P.curScore),this.updateScores(P.curScore),x.ins.generateBoard_effect(k.customizeBoardData5),this.scheduleOnce((function(){x.ins.generateSpecificSelectionBlock(!1)}),2)},s.createEleAddScoreEff=function(){var e=o(i().mark((function e(t,r){var n,a=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getObject("labelTip");case 2:(n=e.sent).setParent(this.effectsContainer),n.setPosition(t),n.angle=0,n.getComponent(p).string="+"+r.toString(),f(n).to(.3,{scale:d(6,6,1)}).delay(.5).to(.5,{scale:d(0,0,1)},{easing:"backIn"}).call((function(){a.updateScores(r),S.putObject("labelTip",n)})).start();case 8:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),s.createConsecutiveEffect=function(){var e=o(i().mark((function e(t,r){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(!(r<2)){e.next=4;break}return e.abrupt("return");case 4:if(2!=r){e.next=12;break}return e.next=7,S.getObject("good");case 7:n=e.sent,b.ins.playOneShot(v.AUDIO.SFX17,1),a="good",e.next=42;break;case 12:if(3!=r){e.next=20;break}return e.next=15,S.getObject("great");case 15:n=e.sent,b.ins.playOneShot(v.AUDIO.SFX18,1),a="great",e.next=42;break;case 20:if(4!=r){e.next=28;break}return e.next=23,S.getObject("excellent");case 23:n=e.sent,b.ins.playOneShot(v.AUDIO.SFX19,1),a="excellent",e.next=42;break;case 28:if(5!=r){e.next=36;break}return e.next=31,S.getObject("amazing");case 31:n=e.sent,b.ins.playOneShot(v.AUDIO.SFX20,1),a="amazing",e.next=42;break;case 36:if(!(r>=6)){e.next=42;break}return e.next=39,S.getObject("unbelievable");case 39:n=e.sent,b.ins.playOneShot(v.AUDIO.SFX21,1),a="unbelievable";case 42:n.setParent(this.effectsContainer),n.setPosition(t),n.angle=0,n.setScale(d(0,0,1)),f(n).to(.3,{scale:d(1,1,1)}).delay(.5).to(.5,{scale:d(0,0,1)},{easing:"backIn"}).call((function(){S.putObject(a,n)})).start();case 47:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),s.createOneTipTpast=function(){var e=o(i().mark((function e(t,r){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=null),e.next=3,S.getObject("tip");case 3:(n=e.sent).setParent(this.effectsContainer),n.setPosition(d(0,0,0)),n.getComponent(m).opacity=255,a=n.children[0].getComponent(p),a.node.getComponent(g).setTextKeyAndOption(t,r),f(n).delay(.5).to(.5,{position:d(0,50,0)}).call((function(){S.putObject("tip",n)})).start(),f(n.getComponent(m)).delay(.5).to(.5,{opacity:0}).start();case 12:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),s.createOneBlockEfEffect1=function(){var e=o(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=I.ins.getNodeAToNodeBPoint(t,this.effectsContainer),e.next=3,S.getObject("ef");case 3:(n=e.sent).setParent(this.effectsContainer),n.setPosition(r),n.setScale(1,1,1),n.active=!0,f(n).by(this.randFloat(.1,.3),{position:d(this.randInt(-100,100),this.randInt(200,300),0)}).delay(.1).by(this.randFloat(.9,1.5),{position:d(0,-this.randInt(2e3,2500),0)}).call((function(){n.active?(n.active=!1,S.putObject("ef",n)):console.warn("blockef is already inactive, potential double call to recovery.")})).start();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.getColorHexFromUrl=function(e){for(var t in v.BLOCK)if(v.BLOCK[t]===e)return this.colorMap[t];return"Invalid block URL"},s.createOneBlockEfEffect=function(){var e=o(i().mark((function e(t,r){var n,a,o=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getColorHexFromUrl(r),n=i().mark((function e(){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=I.ins.getNodeAToNodeBPoint(t,o.effectsContainer),e.next=3,S.getObject("ef");case 3:(n=e.sent).setParent(o.effectsContainer),n.setPosition(r.add(d(o.randInt(-20,20),o.randInt(-20,20),0))),n.active=!0,n.getComponent(m).opacity=255,n.setScale(d(0,0,0)),a=o.randFloat(.5,1.2),f(n).parallel(f().to(.3,{scale:d(a,a,0)}),f().to(.3,{angle:o.randInt(0,360)})).start(),f(n.getComponent(m)).delay(.3).to(.3,{opacity:0}).call((function(){S.putObject("ef",n)})).start();case 12:case"end":return e.stop()}}),e)})),a=0;case 3:if(!(a<2)){e.next=8;break}return e.delegateYield(n(),"t0",5);case 5:a++,e.next=3;break;case 8:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),s.getRandomForce=function(e,t,r,n){return Math.random()<.5?Math.random()*(t-e)+e:Math.random()*(n-r)+r},s.randInt=function(e,t){return void 0===t&&(t=void 0),void 0===t&&(t=e,e=0),e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e},s.randFloat=function(e,t){return void 0===t&&(t=void 0),void 0===t&&(t=e,e=0),Math.random()*(t-e)+e},s.usePropHummerEffect=function(){var e=o(i().mark((function e(t,r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getObject("hummer");case 2:(n=e.sent).setParent(this.effectsContainer),n.setPosition(d(0,0,0)),n.setScale(2,2,1),n.angle=0,f(n).delay(.2).parallel(f().to(.3,{position:t}),f().to(.3,{angle:-30})).call((function(){b.ins.playOneShot(v.AUDIO.SFX8,1)})).to(.2,{angle:70}).call((function(){r(),S.putObject("hummer",n)})).start();case 8:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),s.updatePropNum=function(){this.refrashPropLabel.string="x"+P.refrashPropNum.toString(),this.hummerPropLabel.string="x"+P.hummerPropNum.toString();var e=this.refrashPropLabel.node.parent.getChildByName("adicon"),t=this.hummerPropLabel.node.parent.getChildByName("adicon");0==P.refrashPropNum?(this.refrashPropLabel.node.active=!1,e.active=!0):(this.refrashPropLabel.node.active=!0,e.active=!1),0==P.hummerPropNum?(this.hummerPropLabel.node.active=!1,t.active=!0):(this.hummerPropLabel.node.active=!0,t.active=!1)},s.useRefrashProp=function(){var e=o(i().mark((function e(t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r=!1),!r){e.next=5;break}return b.ins.playOneShot(v.AUDIO.SFX7,1),x.ins.generateSpecificSelectionBlock(!0),e.abrupt("return");case 5:if(!this.propInUse){e.next=7;break}return e.abrupt("return");case 7:if(!(P.refrashPropNum>0)){e.next=15;break}this.propInUse=!0,b.ins.playOneShot(v.AUDIO.SFX7,1),x.ins.generateSpecificSelectionBlock(!0),P.refrashPropNum--,this.updatePropNum(),e.next=20;break;case 15:return b.ins.pauseBgm(),e.next=18,!0;case 18:e.sent&&(P.refrashPropNum++,this.updatePropNum(),b.ins.resumeBgm());case 20:O.setItem(O.refrashPropNum_key,P.refrashPropNum);case 21:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),s.useHummerProp=function(){var e=o(i().mark((function e(t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r=!1),!r){e.next=4;break}return x.ins.chechAndEliminateRandomArea(),e.abrupt("return");case 4:if(!this.propInUse){e.next=6;break}return e.abrupt("return");case 6:if(!(P.hummerPropNum>0)){e.next=12;break}this.propInUse=!0,x.ins.chechAndEliminateRandomArea()&&(P.hummerPropNum--,this.updatePropNum()),e.next=17;break;case 12:return b.ins.pauseBgm(),e.next=15,!0;case 15:e.sent&&(P.hummerPropNum++,this.updatePropNum(),b.ins.resumeBgm());case 17:O.setItem(O.hummerPropNum_key,P.hummerPropNum);case 18:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),s.detectGuideAndElimiTimes=function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P.elimiTimes++,O.setItem(O.elimiTimes_key,P.elimiTimes),P.isCommer&&L.ins.completeCurGuide(P.elimiTimes+1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.checkAndUpdateDailyHighScore=function(e){this.curScore=P.curScore;var t=(new Date).toDateString();console.log("是否是同一天：",e==t),e!==t?(P.todayHighScore=0,O.setItem(O.todayHighScore_key,P.todayHighScore)):P.curScore>=P.todayHighScore&&(P.todayHighScore=P.curScore,O.setItem(O.todayHighScore_key,P.todayHighScore)),O.setItem(O.lastLoginDate_key,t),this.updateScoreLabel(this.historyScoreLabel,P.historyHighScore),this.updateScoreLabel(this.todayScoreLabel,P.todayHighScore),this.updateScoreLabel(this.curScoreLabel,P.curScore)},s.updateScores=function(e){this.curScore+=e,P.curScore=this.curScore,this.curScore>P.todayHighScore&&(P.todayHighScore=this.curScore,this.updateScoreLabel(this.todayScoreLabel,this.curScore)),this.curScore>P.historyHighScore&&(P.historyHighScore=this.curScore,this.updateScoreLabel(this.historyScoreLabel,this.curScore)),this.updateScoreLabel(this.curScoreLabel,this.curScore),O.setItem(O.historyHighScore_key,P.historyHighScore),O.setItem(O.todayHighScore_key,P.todayHighScore),O.setItem(O.curScore_key,P.curScore)},s.updateScoreLabel=function(e,t,r){void 0===r&&(r=1);var n=parseInt(e.string)||0;0!==t-n&&f({value:n}).to(r,{value:t},{onUpdate:function(t){e.string=Math.floor(t.value).toString()}}).start()},c(t,null,[{key:"ins",get:function(){return t._ins||(t._ins=new t),t._ins}}]),t}(h))._ins=void 0,T=t((G=Q).prototype,"background",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(G.prototype,"guide",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(G.prototype,"curScoreLabel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(G.prototype,"historyScoreLabel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(G.prototype,"todayScoreLabel",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(G.prototype,"refrashPropLabel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(G.prototype,"hummerPropLabel",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(G.prototype,"tarPropRefrashIcon",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(G.prototype,"tarPropHummerIcon",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(G.prototype,"effectsContainer",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=G))||E));s._RF.pop()}}}));

System.register("chunks:///_virtual/NativeClient.ts",["cc","./frame.config.ts"],(function(e){var t,n,c;return{setters:[function(e){t=e.cclegacy},function(e){n=e.AFFIX_TEMPLATE,c=e.AFFIX_REGEXP}],execute:function(){t._RF.push({},"3e2a7lEd71LA4gcmlo5o+qP","NativeClient",void 0);var r=e("default",function(){function e(){}return e.initClient=function(t){e.client=t,t.onReceiveMessage(e.receiveMessage)},e.sendMessage=function(t,c,r,a){if(t=n.replace("key",t),this.client){var o={api:t};return o.request=e.createRequest(null!=c?c:{}),r&&(o.response=e.createResponse(t,o.request.cc_token)),a&&e.ccdata_cache.set(o.request.cc_token,a),e.formatRequest(o.request),mtec.log.tag([["NATIVE","tan"],["SEND","skyblue"]].map((function(e){return e[0]+":"+e[1]})).join(";"),t,"\n~~~~~~~~~~\nREQEST:",o.request,"\n~~~~~~~~~~\n"),this.client.callStaticMethod(t,o.request),o}mtec.log.tag("没有原生端服务: tomato")},e.receiveMessage=function(t,n){mtec.log.tag([["NATIVE","tan"],["BACK","lime"]].map((function(e){return e[0]+":"+e[1]})).join(";"),t,"\n~~~~~~~~~~\nRESULT:",n,"\n~~~~~~~~~~\n"),e.parseResponse(n),mtec.array.remove(e.used_token,n.cc_token),e.ccdata_cache.has(n.cc_token)&&(n.cc_data=e.ccdata_cache.get(n.cc_token),e.ccdata_cache.delete(n.cc_token));var c=t+":"+n.cc_token;e.response_map.has(c)&&(e.response_map.get(c).resolve(n),e.response_map.delete(c))},e.createRequest=function(t){var n=mtec.string.randomToken(5,36,(function(t){return!e.used_token.includes(t)}));return e.used_token.push(n),{cc_token:n,data:t}},e.createResponse=function(t,n){var c=new mtec.NudityPromise;return e.response_map.set(t+":"+n,c),c.promise},e.formatRequest=function(e){var t=[];for("object"!=typeof e||Array.isArray(e)||t.unshift(e);t.length>0;){var c=t.pop();if(Array.isArray(c))c.forEach((function(e){"object"==typeof e&&null!=e&&t.push(e)}));else if(c)for(var r=0,a=Object.entries(c);r<a.length;r++){var o=a[r],s=o[0],i=o[1];"object"==typeof i&&null!=i&&t.push(i),Reflect.deleteProperty(c,s),Reflect.set(c,n.replace("key",s),i)}}return e},e.parseResponse=function(e){var t=[];for("object"!=typeof e||Array.isArray(e)||t.unshift(e);t.length>0;){var n=t.pop();if(Array.isArray(n))n.forEach((function(e){"object"==typeof e&&null!=e&&t.push(e)}));else if(n)for(var r=0,a=Object.entries(n);r<a.length;r++){var o=a[r],s=o[0],i=o[1];"object"==typeof i&&null!=i&&t.push(i),Reflect.deleteProperty(n,s),Reflect.set(n,s.replace(c,"$1"),i)}}return e},e}());r.client=void 0,r.used_token=[],r.ccdata_cache=new Map,r.response_map=new Map;e("NativeClientIns",(function(){}));t._RF.pop()}}}));

System.register("chunks:///_virtual/page.home.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ui.base.ts","./AudioManager.ts","./Url.ts","./popup.ts"],(function(e){var t,n,r,o,a,c,u,i,s;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){o=e.cclegacy,a=e._decorator},function(e){c=e.BaseUI},function(e){u=e.AudioManager},function(e){i=e.Url},function(e){s=e.Popup}],execute:function(){var p;o._RF.push({},"a80b7lXlQtCe5DilAgkaMue","page.home",void 0);var l=a.ccclass;a.property,e("PageHome",l("PageHome")(p=function(e){function o(){for(var t,o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))||this).a=void 0,t._click_event_={SettingButton:function(e){return n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.lock){e.next=2;break}return e.abrupt("return",void 0);case 2:return s.lock=!0,u.ins.playOneShot(i.AUDIO.SFX4,1),e.next=6,s.Settingpage({});case 6:s.lock=!1;case 7:case"end":return e.stop()}}),e)})))()}},t}t(o,e);var a=o.prototype;return a.initAfterOnLoad=function(){},a.start=function(){},o}(c))||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/parse-image.ts",["cc","./env"],(function(t){var e,n,r,a,o;return{setters:[function(t){e=t.cclegacy,n=t.getError,r=t.SpriteFrame,a=t.gfx},function(t){o=t.XIAOMI}],execute:function(){t("parseImage",(function(t,e,r){s.length<=0&&(p=Date.now());if(t){var a=Date.now();if("string"==typeof t)!function(t,e){var r=new u.Image;("file:"!==u.location.protocol||o)&&(r.crossOrigin="anonymous");function a(){r.removeEventListener("load",a),r.removeEventListener("error",i),e(null,r)}function i(){r.removeEventListener("load",a),r.removeEventListener("error",i),e(new Error(n(4930,t)),null)}r.addEventListener("load",a),r.addEventListener("error",i),r.src=t}(t,(function(e,n){var o=t.split("/").pop();M("LoadImage",s.length,o,Date.now()-a),e?r(e,null):c(o,n,(function(t){r(null,t)}))}));else if(t instanceof HTMLImageElement){var i=t.src.split("/").pop();M("LoadImage",s.length,i,Date.now()-a),c(i,t,(function(t){r(null,t)}))}else r(n(4930,t),null)}else r(null,t)})),e._RF.push({},"3e418Gl+tBPu4vmUb+js4Jc","parse-image",void 0);var i,u=void 0!==globalThis.jsb&&void 0!==jsb.window?jsb.window:globalThis,l="3580419267".split("").map(Number);function f(t,e,n){var r=u.document.createElement("canvas");return r.width=e,r.height=n,r.getContext("2d").putImageData(t,0,0),r}function c(t,e,n){!function(t){s.push(t);var e=Date.now();t.imgdata=function(t){i||(i=document.createElement("canvas").getContext("2d"));var e=r.createWithImage(t),n=new Uint8Array(t.width*t.height*4),o=new a.BufferTextureCopy;o.texOffset.x=0,o.texOffset.y=0,o.texExtent.width=t.width,o.texExtent.height=t.height,a.deviceManager.gfxDevice.copyTextureToBuffers(e.getGFXTexture(),[n],[o]);var u=i.createImageData(t.width,t.height);return u.data.set(n),u}(t.image),M("GetImageData",s.length-1,t.name,Date.now()-e),function(){if(v||h>=s.length)return;v=!0;for(;h<s.length;){var t=s[h],e=Date.now(),n=Math.max(1,E(Math.min(t.image.width,t.image.height)));w(t.imgdata.data,l,n),M("Decryption",h,t.name,Date.now()-e),h++}v=!1,function(){if(d||m>=h)return;d=!0;for(;m<h;){var t=s[m],e=Date.now();t.complete_call(f(t.imgdata,t.image.width,t.image.height)),M("CreateSource",m,t.name,Date.now()-e),m++}d=!1,m>=s.length&&M("CurrtPartTask",m,"Done",Date.now()-p)}()}()}({name:t,image:e,imgdata:null,complete_call:n})}var g,s=[],h=0,m=0,v=!1,d=!1,p=0;function w(t,e,n){if(n>=t.length||!(n>0))return t;g&&g.length>=t.length||(g=new Uint8Array(t.length));var r,a,o=Math.floor(t.length/n),i=0;do{r=(a=D(e,o-i))[0].length*Math.pow(10,a.length-1);for(var u=0;u<r;u++){var l=(i+u)*n,f=(i+x(u,a))*n;g.set(t.slice(l,l+n),f)}i+=r}while(i<o);return t.set(g.slice(0,o*n)),t}function x(t,e){var n=t.toString().padStart(e.length,"0").split("").map((function(t){return parseInt(t)})).map((function(t,n){return e[n][t]})).join("");return parseInt(n)}function D(t,e){return e.toString().split("").map((function(e,n){var r=[];return new Array(0==n?parseInt(e):t.length).fill(0).map((function(t,e){return e})).sort((function(e,n){return t.indexOf(e)-t.indexOf(n)})).forEach((function(t,e){return r[t]=e})),r}))}function E(t){for(var e=t,n=Math.min(e,I(e));n>=t;)e-=1,n=Math.min(e,I(e));return n}function I(t){var e=t;if(e>3)for(var n=e;n>2;n--){for(var r=!0,a=2;a*a<=n;a++)if(n%a==0){r=!1;break}if(r){e=n;break}}else e=Math.max(2,e);return e}function M(t,e,n,r){t="#"+e.toString().padStart(3,"0")+"@"+t.padEnd(13," ")+">>",r&&(t+="|"+function(t){var e=Math.floor(t/1e3),n=Math.floor(e/60);return[Math.floor(n/60),n,e].map((function(t){return t.toString().padStart(2,"0")})).join(":")+" "+(t%1e3).toString().padStart(3,"0")+"ms"}(r)+"|"),console.log(t,n)}e._RF.pop()}}}));

System.register("chunks:///_virtual/PoolManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,o,a,s,i;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy,o=e.NodePool,a=e.resources,s=e.Prefab,i=e.instantiate}],execute:function(){r._RF.push({},"ac285MhCiVCmKsW7BILZcu+","PoolManager",void 0);var u=e("default",function(){function e(){}return e.getObject=function(){var e=t(n().mark((function e(t,r){var o,a,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((o=this.pools[t])&&0!==o.size()){e.next=7;break}return e.next=4,this.createNewObject(t);case 4:return(a=e.sent)&&r&&this.resetComponents(a,r),e.abrupt("return",a);case 7:return s=o.get(),r&&this.resetComponents(s,r),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),e.putObject=function(e,t){var n=this.pools[e];n||(n=new o,this.pools[e]=n),n.size()<this.maxPoolSize?n.put(t):t.destroy()},e.createNewObject=function(e){var t=this;return new Promise((function(n,r){var o=""+t.prefabPath+e;a.load(o,s,(function(t,r){if(t)return console.warn('无法加载预制体 "'+e+'"，请检查预制体路径'),void n(null);var o=i(r);n(o)}))}))},e.resetComponents=function(e,t){t.forEach((function(t){return t(e)}))},e.setMaxPoolSize=function(e){this.maxPoolSize=e},e.setPrefabPath=function(e){this.prefabPath=e},e}());u.pools={},u.prefabPath="prefab/element/",u.maxPoolSize=100,r._RF.pop()}}}));

System.register("chunks:///_virtual/popup.config.ts",["./rollupPluginModLoBabelHelpers.js","cc","./popup.gameoverpage.ts","./popup.settingpage.ts"],(function(e,t){var n,r,p,o,a,u,c;return{setters:[function(e){n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){p=e.cclegacy,o=e.Prefab,a=e.resources},function(e){u=e.GameoverPage},function(e){c=e.SettingPage}],execute:function(){var s;e({GetPopComponent:function(e){return l.apply(this,arguments)},GetPopPrefab:function(e){return g.apply(this,arguments)}}),p._RF.push({},"ce185yeKZtOdogiw+vZ63Eb","popup.config",void 0);var i=e("EPopup",function(e){return e[e.SETTINGPAGE=0]="SETTINGPAGE",e[e.GAMEOVERPAGE=1]="GAMEOVERPAGE",e}({})),f=((s={})[i.SETTINGPAGE]={component:c,path:"prefab/pop-up/SettingPage",script:"./popup.settingpage.ts",prefab:null},s[i.GAMEOVERPAGE]={component:u,path:"prefab/pop-up/GameoverPage",script:"./popup.gameoverpage.ts",prefab:null},s);function g(){return(g=n(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=f[t]).prefab){e.next=5;break}return e.next=4,mtec.cc.loadResAsync(n.path,o,a);case 4:n.prefab=e.sent;case 5:return e.abrupt("return",n.prefab);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=n(r().mark((function e(n){var p;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((p=f[n]).component){e.next=5;break}return e.next=4,t.import(p.script).then((function(e){return e.default}));case 4:p.component=e.sent;case 5:return e.abrupt("return",p.component);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}p._RF.pop()}}}));

System.register("chunks:///_virtual/popup.gameoverpage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ui.pop-up.ts","./AudioManager.ts","./Url.ts","./GlobalData.ts","./MainGameLogic.ts","./LocalizedLabel.ts"],(function(e){var n,t,r,o,a,i,u,s,c,l,p,f,d,g,v,h;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){u=e.cclegacy,s=e._decorator,c=e.Label,l=e.tween},function(e){p=e.BasePopUp},function(e){f=e.AudioManager},function(e){d=e.Url},function(e){g=e.default},function(e){v=e.MainGameLogic},function(e){h=e.default}],execute:function(){var m,y,b,_,L,S,w;u._RF.push({},"68eb9S4QWFMNZJAvYQBy5Yd","popup.gameoverpage",void 0);var x=s.ccclass,A=s.property;e("GameoverPage",(m=x("GameoverPage"),y=A(c),b=A(c),m((S=n((L=function(e){function n(){for(var n,t=arguments.length,u=new Array(t),s=0;s<t;s++)u[s]=arguments[s];return(n=e.call.apply(e,[this].concat(u))||this).default_return=void 0,r(n,"scoreLabel",S,o(n)),r(n,"condLabel",w,o(n)),n._click_event_={resurreBtn:function(e){var n=this;return a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.ins.playOneShot(d.AUDIO.SFX4,1),f.ins.pauseBgm(),e.next=4,!0;case 4:e.sent&&(v.ins.useHummerProp(void 0,!0),v.ins.useRefrashProp(void 0,!0),f.ins.resumeBgm()),p.jelly_leave(n.node).then((function(){n.close(null)}));case 7:case"end":return e.stop()}}),e)})))()},giveupBtn:function(e){var n=this;return a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.ins.pauseBgm(),e.next=3,!0;case 3:e.sent&&(f.ins.playOneShot(d.AUDIO.SFX4,1),v.ins.reStartGame(),f.ins.resumeBgm(),p.jelly_leave(n.node).then((function(){n.close(null)})));case 5:case"end":return e.stop()}}),e)})))()}},n}t(n,e);var u=n.prototype;return u.onShow=function(){p.jelly_enter(this.node),f.ins.playOneShot(d.AUDIO.SFX11,1),this.renderLocalUI()},u.renderLocalUI=function(){var e=this.condLabel.node.getComponent(h);this.scoreLabel.string=g.curScore.toString(),g.curScore>=g.historyHighScore?e.setTextKeyAndOption("pop_gameoverpage_word1_text"):e.setTextKeyAndOption("pop_gameoverpage_word2_text")},u.updateWardLabel=function(e,n,t){void 0===t&&(t=1);var r=parseInt(e.string)||0;0!==n-r&&l({value:r}).to(t,{value:n},{onUpdate:function(n){e.string=n.value.toString()}}).start()},n}(p)).prototype,"scoreLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=n(L.prototype,"condLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=L))||_));u._RF.pop()}}}));

System.register("chunks:///_virtual/popup.settingpage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ui.pop-up.ts","./AudioManager.ts","./Url.ts"],(function(t){var e,n,i,s,c,r,u,o,a,l,p,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,s=t.assertThisInitialized,c=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){u=t.cclegacy,o=t._decorator,a=t.Node},function(t){l=t.BasePopUp},function(t){p=t.AudioManager},function(t){m=t.Url}],execute:function(){var g,h,f,b,B,v,O,y,d,I,C;u._RF.push({},"104fc4Vu45KmrfAsU6pBnBv","popup.settingpage",void 0);var _=o.ccclass,M=o.property;t("SettingPage",(g=_("SettingPage"),h=M(a),f=M(a),b=M(a),B=M(a),g((y=e((O=function(t){function e(){for(var e,n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))||this).default_return=void 0,e.pageConfig=null,i(e,"musicOpenBtn",y,s(e)),i(e,"musicCloseBtn",d,s(e)),i(e,"bgmOpenBtn",I,s(e)),i(e,"bgmCloseBtn",C,s(e)),e.musicIsOpen=!0,e.bgmIsOpen=!0,e._click_event_={closeBtn:function(t){var e=this;p.ins.playOneShot(m.AUDIO.SFX4,1),t.interactable=!1,l.jelly_leave(this.node).then((function(){e.close(null),t.interactable=!0}))},musicBtn:function(t){this.musicIsOpen?(this.musicOpenBtn.active=!1,this.musicCloseBtn.active=!0,this.musicIsOpen=!1,p.ins.effectMute=!0):(this.musicOpenBtn.active=!0,this.musicCloseBtn.active=!1,this.musicIsOpen=!0,p.ins.effectMute=!1)},bgmBtn:function(t){this.bgmIsOpen?(this.bgmOpenBtn.active=!1,this.bgmCloseBtn.active=!0,this.bgmIsOpen=!1,p.ins.bgmMute=!0):(this.bgmOpenBtn.active=!0,this.bgmCloseBtn.active=!1,this.bgmIsOpen=!0,p.ins.bgmMute=!1)}},e}n(e,t);var u=e.prototype;return u.onShow=function(t){this.pageConfig=t,l.jelly_enter(this.node),this.renderLocalUI()},u.start=function(){},u.update=function(t){},u.renderLocalUI=function(){var t=c(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:p.ins.effectMute?(this.musicOpenBtn.active=!1,this.musicCloseBtn.active=!0,this.musicIsOpen=!1):(this.musicOpenBtn.active=!0,this.musicCloseBtn.active=!1,this.musicIsOpen=!0),p.ins.bgmMute?(this.bgmOpenBtn.active=!1,this.bgmCloseBtn.active=!0,this.bgmIsOpen=!1):(this.bgmOpenBtn.active=!0,this.bgmCloseBtn.active=!1,this.bgmIsOpen=!0);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e}(l)).prototype,"musicOpenBtn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=e(O.prototype,"musicCloseBtn",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(O.prototype,"bgmOpenBtn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(O.prototype,"bgmCloseBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=O))||v));u._RF.pop()}}}));

System.register("chunks:///_virtual/popup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./popup.config.ts"],(function(t){var e,n,r,i,a,o,s,c,h,u,p,d,_,f,l,g;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,r=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){a=t.cclegacy,o=t._decorator,s=t.UIOpacity,c=t.Tween,h=t.Widget,u=t.tween,p=t.NodePool,d=t.Component,_=t.instantiate},function(t){f=t.GetPopComponent,l=t.GetPopPrefab,g=t.EPopup}],execute:function(){var v,y;a._RF.push({},"acbeceBQJRPMIRvZotI8Sbe","popup",void 0);var m=o.ccclass;o.property,t("Popup",m("Popup")(((y=function(t){function a(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).hide_map=void 0,e.shade_list=void 0,e.opacity=200,e.duration=.25,e.__shade_ref_=0,e.on_going=[],e}e(a,t);var o=a.prototype;return o.onLoad=function(){a._ins=this,this.init()},o.init=function(){this.node.active=!1,this.hide_map=new Map,this.shade_list=this.node.children.filter((function(t){return"___shade"===t.name})).map((function(t){return t.getComponent(s)})),this.shade_list.forEach((function(t){t.node.active=!0,t.opacity=0}))},o.activePop=function(){var t=r(i().mark((function t(e){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.hide_map.has(e)&&this.hide_map.get(e).size()>0)){t.next=4;break}n=this.hide_map.get(e).get(),t.next=9;break;case 4:return t.t0=_,t.next=7,l(e);case 7:t.t1=t.sent,n=(0,t.t0)(t.t1);case 9:return n.active=!1,n.setParent(this.node),t.t2=n,t.next=14,f(e);case 14:return t.t3=t.sent,t.abrupt("return",t.t2.getComponent.call(t.t2,t.t3));case 16:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),o.addShade=function(){var t=1*this.duration;this.__shade_ref_++;var e=this.shade_list.map((function(t){c.stopAllByTarget(t);var e=t.getComponent(h);return e&&e.updateAlignment(),{shade:t,z:t.node.getSiblingIndex()}})).sort((function(t,e){return e.z-t.z})),n=[];if(1===this.__shade_ref_)e.forEach((function(t){return t.shade.opacity=0})),n.push(u(e[1].shade).to(t,{opacity:this.opacity}));else{var r,i=this.__shade_ref_-1,a=e.findIndex((function(t){return t.z===i}));a>=0?r=e.splice(a,1)[0].shade:(r=e.pop().shade).node.setSiblingIndex(i),e[0].shade.node.setSiblingIndex(this.__shade_ref_),e[0].shade.opacity=0,r.opacity=this.opacity,n.push(u(r).to(t,{opacity:0},{progress:function(t,e,n,r){var i=t-e;return 255*i*(1-r)/(255-i*r)}})),n.push(u(e[0].shade).to(t,{opacity:this.opacity}))}n.forEach((function(t){return t.start()}))},o.cutShade=function(){var t=this,e=1*this.duration;this.__shade_ref_--;var n=this.shade_list.map((function(t){return c.stopAllByTarget(t),{shade:t,z:t.node.getSiblingIndex()}})).sort((function(t,e){return e.z-t.z})),r=[];if(0===this.__shade_ref_)r.push(u(n[1].shade).to(e,{opacity:0}));else{var i,a=this.__shade_ref_-1,o=n.findIndex((function(t){return t.z===a}));o>=0?i=n.splice(o,1)[0].shade:(i=n.shift().shade).node.setSiblingIndex(a),i.opacity=0,n[0].shade.opacity=this.opacity,n[0].shade.node.setSiblingIndex(this.__shade_ref_+1),r.push(u(i).to(e,{opacity:this.opacity},{progress:function(t,e,n,r){var i=e-t;return 255*i*r/(255-i*(1-r))}})),r.push(u(n[0].shade).to(e,{opacity:0}).call((function(){return n[0].shade.node.setSiblingIndex(t.__shade_ref_>1?t.__shade_ref_-2:0)})))}r.forEach((function(t){return t.start()}))},o.show=function(){var t=r(i().mark((function t(e){var n,r,o,s,c,h=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.on_going.includes(e)){t.next=4;break}return t.abrupt("return",void 0);case 4:this.on_going.push(e);case 5:return this.node.active||(this.node.active=!0),this.addShade(),t.next=9,this.activePop(e);case 9:if(n=t.sent,mtec.log.tag("SHOW-POP: chartreuse; "+n.comp_name+": lightyellow;"),!n){t.next=19;break}for(o=h.length,s=new Array(o>1?o-1:0),c=1;c<o;c++)s[c-1]=h[c];return t.next=15,n.show.apply(n,[a].concat(s));case 15:r=t.sent,a.ins.close(e,n),t.next=20;break;case 19:r=void 0;case 20:return t.abrupt("return",r);case 21:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),o.close=function(t,e){this.on_going.includes(t)&&mtec.array.remove(this.on_going,t),this.node.children.includes(e.node)&&(mtec.log.tag("CLOSE-POP: crimson; "+e.comp_name+": lightyellow;"),this.cutShade(),e.node.active=!1,this.hide_map.has(t)||this.hide_map.set(t,new p),this.hide_map.get(t).put(e.node)),this.__shade_ref_<=0&&!(this.on_going.length>0)&&(this.node.active=!1)},a.Settingpage=function(){var t=r(i().mark((function t(){var e,n,r,o,s=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=s.length,r=new Array(n),o=0;o<n;o++)r[o]=s[o];return t.abrupt("return",(e=a.ins).show.apply(e,[g.SETTINGPAGE].concat(r)));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a.Gameoverpage=function(){var t=r(i().mark((function t(){var e,n,r,o,s=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=s.length,r=new Array(n),o=0;o<n;o++)r[o]=s[o];return t.abrupt("return",(e=a.ins).show.apply(e,[g.GAMEOVERPAGE].concat(r)));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n(a,[{key:"dur_half",get:function(){return.5*this.duration}}],[{key:"ins",get:function(){return a._ins}},{key:"lock",get:function(){return a.__lock__},set:function(t){a.__lock__=t}},{key:"hasPop",get:function(){return a.ins.node.children.length>2}}]),a}(d))._ins=void 0,y.__lock__=!1,v=y))||v);a._RF.pop()}}}));

System.register("chunks:///_virtual/QuickTween.ts",["cc","./Util.ts"],(function(){var t,o,n,i,e,u,r,s,p,a;return{setters:[function(p){t=p.cclegacy,o=p.Node,n=p.tween,i=p.Vec3,e=p.easing,u=p.Sprite,r=p.Color,s=p.Camera},function(t){p=t.calcPunchData,a=t.calcShakeData}],execute:function(){t._RF.push({},"20531fqbcBMdYAOqZjdFtlj","QuickTween",void 0),o.prototype.qtPosition=function(t,o,i){return n(this).to(o,{position:t},i)},o.prototype.qtPositionX=function(t,o,e){var u=this.position;return n(this).to(o,{position:new i(t,u.y,u.z)},e)},o.prototype.qtPositionY=function(t,o,e){var u=this.position;return n(this).to(o,{position:new i(u.x,t,u.z)},e)},o.prototype.qtPositionZ=function(t,o,e){var u=this.position;return n(this).to(o,{position:new i(u.x,u.y,t)},e)},o.prototype.qtWorldPosition=function(t,o,i){return n(this).to(o,{worldPosition:t},i)},o.prototype.qtWorldPositionX=function(t,o,e){var u=this.worldPosition;return n(this).to(o,{worldPosition:new i(t,u.y,u.z)},e)},o.prototype.qtWorldPositionY=function(t,o,e){var u=this.worldPosition;return n(this).to(o,{worldPosition:new i(u.x,t,u.z)},e)},o.prototype.qtWorldPositionZ=function(t,o,e){var u=this.worldPosition;return n(this).to(o,{worldPosition:new i(u.x,u.y,t)},e)},o.prototype.qtRotation=function(t,o,i){return n(this).to(o,{eulerAngles:t},i)},o.prototype.qtRotationQuat=function(t,o,i){return n(this).to(o,{rotation:t},i)},o.prototype.qtScale=function(t,o,e){var u=t;return t instanceof i||(u=new i(t,t,t)),n(this).to(o,{scale:u},e)},o.prototype.qtScaleX=function(t,o,e){var u=this.scale;return n(this).to(o,{scale:new i(t,u.y,u.z)},e)},o.prototype.qtScaleY=function(t,o,e){var u=this.scale;return n(this).to(o,{scale:new i(u.x,t,u.z)},e)},o.prototype.qtScaleZ=function(t,o,e){var u=this.scale;return n(this).to(o,{scale:new i(u.x,u.y,t)},e)},o.prototype.qtPunchPosition=function(t,o,i){var e,u,r=null!=(e=null==i?void 0:i.vibrato)?e:3,s=null!=(u=null==i?void 0:i.elasticity)?u:.5,a=p(this.position.clone(),t,o,r,s),l=a.tos,c=a.durations,f=n(this);return l.forEach((function(t,o){var e,u=c[o];0===o?e={onStart:i.onStart}:o===l.length-1&&(e={onComplete:i.onComplete}),f.then(n().to(u,{position:t},e))})),f.union()},o.prototype.qtPunchRotation=function(t,o,i){var e,u,r=null!=(e=null==i?void 0:i.vibrato)?e:3,s=null!=(u=null==i?void 0:i.elasticity)?u:.5,a=p(this.rotation.clone(),t,o,r,s),l=a.tos,c=a.durations,f=n(this);return l.forEach((function(t,o){var e,u=c[o];0===o?e={onStart:i.onStart}:o===l.length-1&&(e={onComplete:i.onComplete}),f.then(n().to(u,{eulerAngles:t},e))})),f.union()},o.prototype.qtPunchScale=function(t,o,i){var e,u,r=null!=(e=null==i?void 0:i.vibrato)?e:3,s=null!=(u=null==i?void 0:i.elasticity)?u:.5,a=p(this.scale.clone(),t,o,r,s),l=a.tos,c=a.durations,f=n(this);return l.forEach((function(t,o){var e,u=c[o];0===o?e={onStart:i.onStart}:o===l.length-1&&(e={onComplete:i.onComplete}),f.then(n().to(u,{scale:t},e))})),f.union()},o.prototype.qtJumpDistance=function(t,o,u,r,s){void 0===s&&(s={});var p=new i,a=n(this),l=2*u;this.jumpY=0;var c=0,f=n().to(r/l,{jumpY:o},{onStart:function(t){c=t.position.y,t.jumpY=0},onUpdate:function(t,o){p.set(t.position),p.y=c+t.jumpY,t.position=p},onComplete:function(t){t.jumpY=0},easing:"quadOut"}).to(r/l,{jumpY:o},{onStart:function(t){c=t.position.y},onUpdate:function(t,o){p.set(t.position),p.y=c-t.jumpY,t.position=p},onComplete:function(t){t.jumpY=0},easing:"quadIn"}).union().repeat(u);this.jumpOffsetY=0;var h=0,m=n().to(r,{jumpOffsetY:t.y},{onStart:function(o){h=t.y,o.jumpOffsetY=0},onUpdate:function(t,o){var n=e.quadOut(o)*h;p.set(t.position),p.y+=n,t.position=p},onComplete:function(t){t.jumpOffsetY=0},easing:"quadOut"});this.jumpX=this.position.x,this.jumpZ=this.position.z;var d=n().to(r,{jumpX:this.position.x+t.x,jumpZ:this.position.z+t.z},{onStart:s.onStart,onUpdate:function(t,o){p.set(t.position),p.x=t.jumpX,p.z=t.jumpZ,t.position=p,null==s.onUpdate||s.onUpdate()},onComplete:function(t){t.jumpX=t.position.x,t.jumpZ=t.position.z,null==s.onComplete||s.onComplete()}});return a.parallel(f,m,d),a},o.prototype.qtJumpPosition=function(t,o,u,r,s){void 0===s&&(s={});var p=new i,a=n(this),l=2*u;this.jumpY=0;var c=0,f=n().to(r/l,{jumpY:o},{onStart:function(t){c=t.position.y,t.jumpY=0},onUpdate:function(t,o){p.set(t.position),p.y=c+t.jumpY,t.position=p},onComplete:function(t){t.jumpY=0},easing:"quadOut"}).to(r/l,{jumpY:o},{onStart:function(t){c=t.position.y},onUpdate:function(t,o){p.set(t.position),p.y=c-t.jumpY,t.position=p},onComplete:function(t){t.jumpY=0},easing:"quadIn"}).union().repeat(u);this.jumpOffsetY=0;var h=0,m=n().to(r,{jumpOffsetY:t.y-this.position.y},{onStart:function(o){h=t.y-o.position.y,o.jumpOffsetY=0},onUpdate:function(t,o){var n=e.quadOut(o)*h;p.set(t.position),p.y+=n,t.position=p},onComplete:function(t){t.jumpOffsetY=0},easing:"quadOut"});this.jumpX=this.position.x,this.jumpZ=this.position.z;var d=n().to(r,{jumpX:t.x,jumpZ:t.z},{onStart:s.onStart,onUpdate:function(t,o){p.set(t.position),p.x=t.jumpX,p.z=t.jumpZ,t.position=p,null==s.onUpdate||s.onUpdate()},onComplete:function(t){t.jumpX=t.position.x,t.jumpZ=t.position.z,null==s.onComplete||s.onComplete()}});return a.parallel(f,m,d),a},o.prototype.qtShakePosition=function(t,o,e){var u,r,s,p,l=null!=(u=null==e?void 0:e.vibrato)?u:10,c=null!=(r=null==e?void 0:e.randomness)?r:90,f=null==(s=null==e?void 0:e.fadeOut)||s,h=!1;t instanceof i?(p=t,h=!0):p=new i(t,t,t);var m=a(this.position.clone(),o,p,l,c,!1,h,f),d=m.tos,v=m.durations,y=n(this);return d.forEach((function(t,o){var i,u=v[o];0===o?i={onStart:e.onStart}:o===d.length-1&&(i={onComplete:e.onComplete}),y.then(n().to(u,{position:t},i))})),y.union()},o.prototype.qtShakeRotation=function(t,o,e){var u,r,s,p,l=null!=(u=null==e?void 0:e.vibrato)?u:10,c=null!=(r=null==e?void 0:e.randomness)?r:90,f=null==(s=null==e?void 0:e.fadeOut)||s,h=!1;t instanceof i?(p=t,h=!0):p=new i(t,t,t);var m=a(this.eulerAngles.clone(),o,p,l,c,!1,h,f),d=m.tos,v=m.durations,y=n(this);return d.forEach((function(t,o){var i,u=v[o];0===o?i={onStart:e.onStart}:o===d.length-1&&(i={onComplete:e.onComplete}),y.then(n().to(u,{eulerAngles:t},i))})),y.union()},o.prototype.qtShakeScale=function(t,o,e){var u,r,s,p,l=null!=(u=null==e?void 0:e.vibrato)?u:10,c=null!=(r=null==e?void 0:e.randomness)?r:90,f=null==(s=null==e?void 0:e.fadeOut)||s,h=!1;t instanceof i?(p=t,h=!0):p=new i(t,t,t);var m=a(this.scale.clone(),o,p,l,c,!1,h,f),d=m.tos,v=m.durations,y=n(this);return d.forEach((function(t,o){var i,u=v[o];0===o?i={onStart:e.onStart}:o===d.length-1&&(i={onComplete:e.onComplete}),y.then(n().to(u,{scale:t},i))})),y.union()},u.prototype.qtColor=function(t,o,i){return n(this).to(o,{color:t},i)},u.prototype.qtOpacity=function(t,o,i){var e=this,u=this.color.clone(),s=new r;return n(this).to(o,{color:new r(u.r,u.g,u.b,t)},{onStart:i.onStart,onUpdate:function(o,n){var r=u.a+(t-u.a)*n;s.set(u.r,u.g,u.b,r),e.color=s,null==i.onUpdate||i.onUpdate()},onComplete:i.onComplete})},s.prototype.qtShakePosition=function(t,o,e){var u,r,s,p,l=null!=(u=null==e?void 0:e.vibrato)?u:10,c=null!=(r=null==e?void 0:e.randomness)?r:90,f=null==(s=null==e?void 0:e.fadeOut)||s,h=!1;t instanceof i?(p=t,h=!0):p=new i(t,t,t);var m=a(this.node.position.clone(),o,p,l,c,!0,h,f),d=m.tos,v=m.durations,y=n(this.node);return d.forEach((function(t,o){var i,u=v[o];0===o?i={onStart:e.onStart}:o===d.length-1&&(i={onComplete:e.onComplete}),y.then(n().to(u,{position:t},i))})),y.union()},t._RF.pop()}}}));

System.register("chunks:///_virtual/Res.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,a,r,n,s,i,o,c,h,l,f;return{setters:[function(e){t=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){r=e.cclegacy,n=e.Prefab,s=e.Node,i=e.SpriteFrame,o=e.SpriteAtlas,c=e.sp,h=e.resources,l=e.error,f=e.instantiate}],execute:function(){r._RF.push({},"2284dtl3VlFRacO3HXLjDgg","Res",void 0);var u=e("default",function(){function e(){}return e.getCachePrefabUrl=function(e){var t="";if(e instanceof n)t=e.__resCacheUrl||"";else if(e instanceof s)for(var a=e;a&&!(a._prefab&&a._prefab.root&&(t=this._nodePath.get(a._prefab.root)||""));)a=a.parent;return t},e.cacheAsset=function(e,t,a){void 0===a&&(a=!0);var r=function(r){if(!r.has(e)){t.addRef(),t instanceof n&&(t.__resCacheUrl=e);var s={asset:t,release:a,lastLoadTime:Date.now()/1e3};r.set(e,s)}};if(t instanceof n)r(this._prefabCache);else if(t instanceof i)r(this._spriteFrameCache);else if(t instanceof o)r(this._spriteAtlasCache);else if(t instanceof c.SkeletonData)r(this._skeletonDataCache);else{if(this._otherCache.has(e))return;t.addRef(),this._otherCache.set(e,t)}},e.get=function(e,t){var a=null,r=function(t){var r=t.get(e);r&&(a=r.asset,r.lastLoadTime=Date.now()/1e3)};return t===n?r(this._prefabCache):t===i?r(this._spriteFrameCache):t===o?r(this._spriteAtlasCache):t===c.SkeletonData?r(this._skeletonDataCache):a=this._otherCache.get(e),a},e.load=function(){var e=t(a().mark((function e(t,r,n){var s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=!0),!(s=this.get(t,r))){e.next=4;break}return e.abrupt("return",s);case 4:return e.next=6,new Promise((function(e,a){h.load(t,r,(function(t,a){t?(console.error("[Res.load] error: "+t),e(null)):e(a)}))}));case 6:return s=e.sent,this.cacheAsset(t,s,n),e.abrupt("return",s);case 9:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}(),e.loadDir=function(e,t,a){var r=this;return void 0===a&&(a=!0),new Promise((function(n,s){h.loadDir(e,t,(function(s,i){if(s)console.error("[Res.loadDir] error: "+s),n([]);else{var o=h.getDirWithPath(e,t);i.forEach((function(e,t){r.cacheAsset(o[t].path,e,a)})),n(i)}}))}))},e.instantiate=function(e,t){if(!e)return l("[Res.instantiate] original is null"),null;var a=f(e),r=null,n=this.getCachePrefabUrl(t)||this.getCachePrefabUrl(e);return n&&(r=this._prefabCache.get(n))&&r.release&&(Array.isArray(r.nodes)||(r.nodes=[]),r.nodes.push(a),this._nodePath.set(a,n)),a},e.releaseAll=function(){var e=this,t=Date.now()/1e3;this._prefabCache.forEach((function(a,r){if(a.release&&!(t-a.lastLoadTime<e.releaseSec)){if(Array.isArray(a.nodes)){for(var n=a.nodes.length-1;n>=0;n--){var s=a.nodes[n];s.isValid||(e._nodePath.delete(s),a.nodes.splice(n,1))}0===a.nodes.length&&delete a.nodes}Array.isArray(a.nodes)||(a.asset.decRef(),e._prefabCache.delete(r))}})),[this._spriteFrameCache,this._spriteAtlasCache,this._skeletonDataCache].forEach((function(a){a.forEach((function(r,n){!r.release||t-r.lastLoadTime<e.releaseSec||(r.asset.decRef(),a.delete(n))}))}))},e}());u._nodePath=new Map,u._prefabCache=new Map,u._spriteFrameCache=new Map,u._spriteAtlasCache=new Map,u._skeletonDataCache=new Map,u._otherCache=new Map,u.releaseSec=0,r._RF.pop()}}}));

System.register("chunks:///_virtual/ResSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Res.ts"],(function(e){var t,r,n,s,i,a,o,c,u,p,l;return{setters:[function(e){t=e.inheritsLoose,r=e.createClass,n=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){i=e.cclegacy,a=e._decorator,o=e.Sprite,c=e.Component,u=e.SpriteAtlas,p=e.SpriteFrame},function(e){l=e.default}],execute:function(){var f;i._RF.push({},"1e608kcfHNDl6sxF57wMNFE","ResSprite",void 0);var h=a.ccclass,m=a.menu,d=a.disallowMultiple,v=a.requireComponent;e("default",h(f=d(f=v(o)(f=m("Framework/UI组件/ResSprite")(f=function(e){function i(){for(var t,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this)._asset=null,t._sprite=null,t}t(i,e);var a=i.prototype;return a.onDestroy=function(){var e;null==(e=this._asset)||e.decRef()},a.setSpriteFrame=function(){var e=n(s().mark((function e(t,r){var n,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r=""),n=r?u:p,e.t0=l.get(t,n),e.t0){e.next=7;break}return e.next=6,l.load(t,n);case 6:e.t0=e.sent;case 7:(i=e.t0)instanceof n&&(i.addRef(),null==(a=this._asset)||a.decRef(),this._asset=i,this.sprite.spriteFrame=i instanceof u?i.getSpriteFrame(r):i);case 9:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),r(i,[{key:"sprite",get:function(){return this._sprite||(this._sprite=this.getComponent(o)),this._sprite}},{key:"spriteFrame",get:function(){return this.sprite.spriteFrame}}]),i}(c))||f)||f)||f)||f);i._RF.pop()}}}));

System.register("chunks:///_virtual/richtext.check.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,e,n,h,s,o,r,a,c,l;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,h=i.assertThisInitialized},function(i){s=i.cclegacy,o=i._decorator,r=i.CCFloat,a=i.UITransform,c=i.RichText,l=i.Component}],execute:function(){var u,_,p,d,f,m,z;s._RF.push({},"6ae08sp+qlG/Ygo4vb0E2sY","richtext.check",void 0);var g=o.ccclass,v=o.property;i("RichTextCheck",(u=g("RichTextCheck"),_=v(r),p=v(r),u((m=t((f=function(i){function t(){for(var t,e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];return t=i.call.apply(i,[this].concat(s))||this,n(t,"height",m,h(t)),n(t,"width",z,h(t)),t.richtext=void 0,t.ui=void 0,t.originFontSize=void 0,t.originLineHeight=void 0,t.text=void 0,t.calculating=!1,t.max_full_size=void 0,t.min_full_size=void 0,t.limit_size=0,t._adapt_np_=void 0,t}e(t,i);var s=t.prototype;return s.onLoad=function(){this.ui=this.node.getComponent(a),this.richtext=this.node.getComponent(c),this.originFontSize=this.richtext.fontSize,this.originLineHeight=this.richtext.lineHeight,this.adaptFontSize()},s.lateUpdate=function(i){this.richtext.string!=this.text&&this.adaptFontSize(),this.calculating&&this.calculateFontSize()},s.calculateFontSize=function(){this.ui.width>this.width||this.ui.height>this.height?this.max_full_size=this.richtext.fontSize:this.min_full_size=this.richtext.fontSize;var i=mtec.number.fixedNum((this.max_full_size+this.min_full_size)/2,2),t=mtec.number.fixedNum(i*this.originLineHeight/this.originFontSize,2);if(this.richtext.fontSize=i,this.richtext.lineHeight=t,this.calculating=this.max_full_size-this.min_full_size>.02,!this.calculating){this.limit_size=Math.min(this.limit_size,this.min_full_size);var e=this._adapt_np_;this._adapt_np_=null,e.resolve("end")}},s.adaptFontSize=function(){this.text=this.richtext.string,this.max_full_size=this.originFontSize,this.min_full_size=this.limit_size;var i=this._adapt_np_;this._adapt_np_=new mtec.NudityPromise,i&&this._adapt_np_.promise.then((function(){return i.resolve("end")})),this.calculating=!0},s.forceAdatptFontSize=function(i){var t=this;return this.node.active=!0,this.adaptFontSize(),this._adapt_np_.promise.then((function(){return t.node.active=i})),this._adapt_np_.promise},s.adaptThen=function(i){var t=this._adapt_np_?this._adapt_np_.promise:void 0;return Promise.resolve(t).then(i)},t}(l)).prototype,"height",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=t(f.prototype,"width",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=f))||d));s._RF.pop()}}}));

System.register("chunks:///_virtual/RichTextAutoResize.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,o,r,c,h,s,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,h=t.RichText,s=t.UITransform,a=t.Component}],execute:function(){var u,l,p,f,d;r._RF.push({},"03351wvZZ9P6YPLT4nOtYi2","RichTextAutoResize",void 0);var T=c.ccclass,x=c.property;t("RichTextAutoFontSize",(u=T("RichTextAutoFontSize"),l=x({type:h}),u((d=e((f=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r))||this,n(e,"richText",d,o(e)),e}i(e,t);var r=e.prototype;return r.start=function(){this.adjustFontSize()},r.adjustFontSize=function(){if(this.richText){var t=this.node.parent.getComponent(s),e=this.richText.node.getComponent(s);if(t&&e)for(;e.width>t.width||e.height>t.height;)this.richText.fontSize--,this.richText.enabled=!1,this.richText.enabled=!0,e.width=this.richText.node.getComponent(s).width,e.height=this.richText.node.getComponent(s).height;else console.warn("UITransform component not found!")}else console.warn("RichText component not found!")},e}(a)).prototype,"richText",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/scroll.list.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,o,r,c,a,s,h,l,d,_,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){c=t.cclegacy,a=t._decorator,s=t.ScrollView,h=t.CCInteger,l=t.NodePool,d=t.UITransform,_=t.instantiate,u=t.Component}],execute:function(){var m,p,v,f,g,y,x,w,I;c._RF.push({},"4c339FmpwdFJqkQUdSUnPD3","scroll.list",void 0);var k=a.ccclass,C=a.property;t("ScrollList",(m=k("ScrollList"),p=C(s),v=C(h),f=C(h),m((x=e((y=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r))||this,n(e,"view",x,o(e)),n(e,"over_item_count",w,o(e)),n(e,"space_vertical",I,o(e)),e.ui_view=void 0,e.ui_content=void 0,e.render_record=new Map,e.content_top=void 0,e.item_height=void 0,e.item_pool=new l,e.data_list=void 0,e.data_key=void 0,e.render_item_node_cache=new Map,e.render_item_call_list=[],e}i(e,t);var c=e.prototype;return c.onLoad=function(){this.ui_view=this.view.content.parent.getComponent(d),this.ui_content=this.view.content.getComponent(d),this.content_top=this.ui_content.height*(1-this.ui_content.anchorY),this.view.scrollEvents.push(mtec.cc.creatEventHandle({target:this.view.node,component:"ScrollList",handler:"onScroll"}))},c.start=function(){var t=this;this.item_height=this.ui_content.node.children[0].getComponent(d).height,this.ui_content.node.children.forEach((function(e,i){return t.moveItemByIndex(e,i)})),this.data_list&&(this.fixItemCount(this.data_list.length),this.ui_content.height=this.data_list.length*this.item_height+(this.data_list.length-1)*this.space_vertical)},c.onScroll=function(t){var e=this,i=t.getScrollOffset().y,n=Math.ceil(i/(this.item_height+this.space_vertical)),o=(n=Math.max(0,n-this.over_item_count))+this.ui_content.node.children.length-1;o=Math.min(this.data_list.length-1,o);var r=this.ui_content.node.children.map((function(t){return{node:t,index:(e.content_top-t.position.y-.5*e.item_height)/(e.item_height+e.space_vertical)}})).sort((function(t,e){return t.index-e.index}));r.filter((function(t){return t.index<n})).forEach((function(t,i,o){var r=n+e.ui_content.node.children.length-o.length+i;e.moveItemByIndex(t.node,r)})),r.filter((function(t){return t.index>o})).forEach((function(t,i){var n=o-e.ui_content.node.children.length+i+1;e.moveItemByIndex(t.node,n)})),r.filter((function(t){return t.index>=n&&t.index<=o})).forEach((function(t,i){e.moveItemByIndex(t.node,t.index)}))},c.fixItemCount=function(t){var e=this,i=this.ui_content.node.children[0].getComponent(d),n=Math.ceil(this.ui_view.height/(i.height+this.space_vertical));t>n&&(t=n+this.over_item_count);var o=t-this.ui_content.node.children.length;if(o>0)for(var r=0;r<o;r++){var c;(null!=(c=this.item_pool.get())?c:_(i.node)).setParent(this.ui_content.node)}else o<0&&this.ui_content.node.children.slice(o).forEach((function(t){return e.item_pool.put(t)}))},c.moveItemByIndex=function(t,e){var i=this;if(this.data_list){var n=this.data_list[e];if(n){t.active=!0;var o=this.render_record.get(t);if(o||(o={index:-1,key:void 0,timestamp:-1},this.render_record.set(t,o)),!(o.index==e&&o.key==n[this.data_key]&&Date.now()-o.timestamp<=1e3)){o.key=n[this.data_key],o.index=e,o.timestamp=Date.now(),t.name=String(o.key);var r=this.content_top-(e+.5)*this.item_height-this.space_vertical*e;t.setPosition(t.position.x,r,t.position.z),this.render_item_call_list.forEach((function(n){n(t,i.data_list[e],i.render_item_node_cache)}))}}else t.active=!1}else t.active=!1},c.setDataList=function(t,e){this.data_list=t,this.data_key=e,this.render_record.forEach((function(t){t.index=-1,t.key=void 0,t.timestamp=-1})),this.fixItemCount(t.length),this.ui_content.height=t.length*this.item_height+(t.length-1)*this.space_vertical},c.onRenderItem=function(t){this.render_item_call_list.push(t)},r(e,[{key:"item_list",get:function(){return[].concat(this.ui_content.node.children).sort((function(t,e){return e.position.y-t.position.y}))}},{key:"NodeCache",get:function(){return this.render_item_node_cache}}]),e}(u)).prototype,"view",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(y.prototype,"over_item_count",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),I=e(y.prototype,"space_vertical",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=y))||g));c._RF.pop()}}}));

System.register("chunks:///_virtual/TouchMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts","./Url.ts","./BlockController.ts","./BlockData.ts","./GlobalData.ts","./GridBlockMgr.ts","./Guide.ts","./MainGameLogic.ts","./ResSprite.ts"],(function(e){var t,n,o,i,r,a,l,c,s,u,h,d,f,p,g,v,m,k,b,_,C,T,B,y,E,P,O;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.createForOfIteratorHelperLoose,a=e.createClass},function(e){l=e.cclegacy,c=e._decorator,s=e.Node,u=e.Material,h=e.Vec3,d=e.Vec2,f=e.UIOpacity,p=e.Sprite,g=e.UITransform,v=e.v3,m=e.Component},function(e){k=e.AudioManager},function(e){b=e.Url},function(e){_=e.BlockController},function(e){C=e.BlockState,T=e.BlocksAll},function(e){B=e.default},function(e){y=e.GridBlockMgr},function(e){E=e.Guide},function(e){P=e.MainGameLogic},function(e){O=e.default}],execute:function(){var S,x,A,M,R,U,I,L,H,w,D,N,F,z,G,V,j,W;l._RF.push({},"ffbb9kbX7dK/aTss7leNSsO","TouchMgr",void 0);var X=c.ccclass,q=c.property;e("TouchMgr",(S=X("TouchMgr"),x=q(s),A=q(s),M=q(s),R=q(s),U=q(s),I=q(u),L=q(u),S(((W=function(e){function t(){var n;return n=e.call(this)||this,o(n,"selection_container",D,i(n)),o(n,"select1",N,i(n)),o(n,"select2",F,i(n)),o(n,"select3",z,i(n)),n.selectCanTouch=[!1,!1,!1],o(n,"tempBlock",G,i(n)),o(n,"material",V,i(n)),o(n,"defaultmaterial",j,i(n)),n.posOffset=new h(0,0,0),n.isCanPlaced=!1,n.placedIndexArr=[],n.tempBlockColor="",n.longPressThreshold=200,n.longPressTimerID=null,n.isLongPress=!1,n.vec3Reusable=new h,n.enlargedBlocks=[],n.touchStartPos=void 0,n.longPressEle=void 0,t._ins=i(n),n}n(t,e);var l=t.prototype;return l.onLoad=function(){this.select1.on(s.EventType.TOUCH_START,this.onTouchStart,this),this.select1.on(s.EventType.TOUCH_MOVE,this.onTouchMove,this),this.select1.on(s.EventType.TOUCH_END,this.onTouchEnd,this),this.select1.on(s.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.select2.on(s.EventType.TOUCH_START,this.onTouchStart,this),this.select2.on(s.EventType.TOUCH_MOVE,this.onTouchMove,this),this.select2.on(s.EventType.TOUCH_END,this.onTouchEnd,this),this.select2.on(s.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.select3.on(s.EventType.TOUCH_START,this.onTouchStart,this),this.select3.on(s.EventType.TOUCH_MOVE,this.onTouchMove,this),this.select3.on(s.EventType.TOUCH_END,this.onTouchEnd,this),this.select3.on(s.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},l.start=function(){},l.update=function(e){},l.onTouchStart=function(e){k.ins.playOneShot(b.AUDIO.SFX2,1),this.isLongPress=!1,this.resumePromptBlock(),this.touchStartPos=e.getUILocation();var t=e.getCurrentTarget(),n=t.getSiblingIndex();if(this.selectCanTouch[n]){var o=t.children[0],i=o.getComponent(_).curBlockConfig;this.tempBlockColor=i.block_color,this.longPressEle={event:e,touch_node:t,target_block:o,target_block_config:i}}},l.longPressFunc=function(e,t,n,o){this.isLongPress=!0,t.children[1].active=!1,n.active=!1,this.tempBlock.active=!0,this.tempBlock.getComponent(_).updateBlockSet(!1,o);var i=e.getUILocation(),r=this.getRelativePosition(this.selection_container,this.vec2ToVec3(i));this.tempBlock.setPosition(r.add(new h(0,250,0))),this.tempBlock.getComponent(_).addBlockOffset(2)},l.calculateDistance=function(e,t){return d.distance(e,t)},l.onTouchMove=function(e){var t=e.getUILocation();if(!(this.calculateDistance(t,this.touchStartPos)<=25)){this.longPressFunc(this.longPressEle.event,this.longPressEle.touch_node,this.longPressEle.target_block,this.longPressEle.target_block_config),this.resumePromptBlock();var n=e.getCurrentTarget(),o=n.getSiblingIndex();if(this.selectCanTouch[o]){n.children[1].active=!1;var i=e.getUILocation(),r=this.getRelativePosition(this.selection_container,this.vec2ToVec3(i));this.tempBlock.setPosition(r.add(new h(0,250,0))),this.tempBlock.getComponent(_).addBlockOffset(2);var a=this.getNodeAToNodeBPoint(y.ins.gridcontainer.parent,this.tempBlock),l=this.getRegion(new h(a.x,a.y,0));if(y.ins.updateBoard(),l){var c=y.ins.block_ba_data[l.i][l.j],s=this.tempBlock.getComponent(_).curBlockConfig;if(!s)return;var u=this.getCenteredBlocks(c.index_i,c.index_j,s.block_arr,s.block_color,this.tempBlock);this.isCanPlaced=u.iscanplaced,this.placedIndexArr=u.indexarr,this.tempBlockColor=s.block_color}else this.isCanPlaced=!1}}},l.onTouchEnd=function(e){this.resumePromptBlock();var t=e.getCurrentTarget(),n=t.getSiblingIndex();if(this.selectCanTouch[n]){if(this.isLongPress){if(t.children[1].active=!1,y.ins.updateBoard(),this.isCanPlaced){k.ins.playOneShot(b.AUDIO.SFX3,1),this.tempBlock.active=!1;for(var o=0;o<this.placedIndexArr.length;o++){var i=this.placedIndexArr[o][0],r=this.placedIndexArr[o][1];y.ins.block_ba_data[i][r].block_state=C.SHOW,y.ins.block_ba_data[i][r].block_ba_node.getComponent(f).opacity=255,y.ins.block_ba_data[i][r].block_sprite.setSpriteFrame(this.tempBlockColor+"/spriteFrame"),y.ins.block_ba_data[i][r].block_color=this.tempBlockColor}this.selectCanTouch[t.getSiblingIndex()]=!1,this.selectionConEmpty()&&B.guideRecord>3&&y.ins.generateSelectionBlock(!1),y.ins.checkAndUpdateBlocks()}else{t.children[0].active=!0,this.tempBlock.active=!1}if(this.isCanPlaced=!1,!B.isCommer)y.ins.detectGameOver()&&P.ins.gameOver();this.isLongPress=!1}else{if(!B.isRotate)return;var a=t.children[0].getComponent(_).curBlockConfig;0!=a.block_type&&4!=a.block_type&&5!=a.block_type&&(t.children[1].active=!0);var l=this.rotateMatrix(a.block_arr),c=this.findMatchingBlockConfig(l);if(c.block_color=this.tempBlockColor,t.children[0].getComponent(_).updateBlockSet(!0,c),t.children[0].setPosition(h.ZERO),t.children[0].getComponent(_).addBlockOffset(4),!B.isCommer)y.ins.detectGameOver()&&P.ins.gameOver()}y.ins.detectSelectsBlockCanUse(!1)}},l.arraysEqual=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){if(e[n].length!==t[n].length)return!1;for(var o=0;o<e[n].length;o++)if(e[n][o]!==t[n][o])return!1}return!0},l.findMatchingBlockConfig=function(e){for(var t,n=r(T);!(t=n()).done;){var o=t.value;if(this.arraysEqual(o.block_arr,e))return o}return null},l.getRegion=function(e){var t=e.x+490,n=e.y+490,o=Math.floor(n/122.5),i=7-Math.floor(t/122.5);return o>=0&&o<8&&i>=0&&i<8?{i:o,j:i}:null},l.getCenteredBlocks=function(e,t,n,o,i){var r=this;if(!n)return this.resumePromptBlock(),{iscanplaced:!1,indexarr:null};if(B.isCommer&&(this.resumePromptBlock(),1==B.guideRecord&&(e!=E.ins.guideindex1[0]||t!=E.ins.guideindex1[1])||2==B.guideRecord&&(e!=E.ins.guideindex2[0]||t!=E.ins.guideindex2[1])||3==B.guideRecord&&(e!=E.ins.guideindex3[0]||t!=E.ins.guideindex3[1])))return{iscanplaced:!1,indexarr:null};for(var a=Array(5).fill(null).map((function(){return Array(5).fill(null)})),l=Array(5).fill(null).map((function(){return Array(5).fill(null)})),c=Array(5).fill(null).map((function(){return Array(5).fill(null)})),s=Math.max(e-2,0),u=Math.min(e+2,y.ins.block_ba_data.length-1),h=Math.max(t-2,0),d=Math.min(t+2,y.ins.block_ba_data[0].length-1),g=s;g<=u;g++)for(var v=h;v<=d;v++){var m=y.ins.block_ba_data[g][v].block_state,k=y.ins.block_ba_data[g][v].block_ba_node,b=[y.ins.block_ba_data[g][v].index_i,y.ins.block_ba_data[g][v].index_j];a[g-(e-2)][v-(t-2)]=m,l[g-(e-2)][v-(t-2)]=k,c[g-(e-2)][v-(t-2)]=b}for(var _=0;_<5;_++)for(var T=0;T<5;T++){var P=a[_][T],S=n[_][T];if(1===P&&1===S||null===P&&1===S)return this.resumePromptBlock(),{iscanplaced:!1,indexarr:null}}for(var x=[],A=0;A<5;A++)for(var M=0;M<5;M++){var R=a[A][M],U=n[A][M];0===R&&1===U&&(l[A][M].getComponent(f).opacity=150,l[A][M].getComponent(O).setSpriteFrame(o+"/spriteFrame"),x.push(c[A][M]))}for(var I=i.children,L=Array(5).fill(null).map((function(){return Array(5).fill(null)})),H=0;H<5;H++)for(var w=0;w<5;w++)L[H][w]=I[5*H+w];for(var D=Array(8).fill(null).map((function(){return Array(8).fill(0)})),N=0;N<8;N++)for(var F=0;F<8;F++)D[N][F]=y.ins.block_ba_data[N][F].block_state;for(var z=0;z<5;z++)for(var G=0;G<5;G++)if(1===n[z][G]){var V=e-2+z,j=t-2+G;V>=0&&V<8&&j>=0&&j<8&&(D[V][j]=1)}for(var W=!1,X=[],q=[],Z=function(e){D[e].every((function(e){return 1===e}))&&(W=!0,X.push(e)),D.every((function(t){return 1===t[e]}))&&(W=!0,q.push(e))},K=0;K<8;K++)Z(K);if(W){X.forEach((function(e){for(var t=0;t<8;t++){var n=y.ins.block_ba_data[e][t].block_ba_node;n&&y.ins.block_ba_data[e][t].block_state===C.SHOW&&(n.getComponent(p).material=r.material,r.enlargedBlocks.push(n))}})),q.forEach((function(e){for(var t=0;t<8;t++){var n=y.ins.block_ba_data[t][e].block_ba_node;n&&y.ins.block_ba_data[t][e].block_state===C.SHOW&&(n.getComponent(p).material=r.material,r.enlargedBlocks.push(n))}}));for(var J=0;J<5;J++)for(var Q=0;Q<5;Q++)if(1===n[J][Q]){var Y=e-2+J,$=t-2+Q;(X.includes(Y)||q.includes($))&&(L[J][Q].getComponent(p).material=this.material,this.enlargedBlocks.push(L[J][Q]))}}else this.resumePromptBlock();return{iscanplaced:!0,indexarr:x}},l.resumePromptBlock=function(){var e=this;this.enlargedBlocks.forEach((function(t){t.getComponent(p).material=e.defaultmaterial})),this.enlargedBlocks=[]},l.getRelativePosition=function(e,t){return e.getComponent(g).convertToNodeSpaceAR(t)},l.getNodeAToNodeBPoint=function(e,t){var n=e.getComponent(g).convertToWorldSpaceAR(h.ZERO),o=t.getComponent(g).convertToNodeSpaceAR(n);return v(o.x,o.y,1)},l.vectorDifference=function(e,t){var n=new h;return h.subtract(n,e,t),n},l.selectionConEmpty=function(){for(var e=0;e<this.selectCanTouch.length;e++)if(!1!==this.selectCanTouch[e])return!1;return!0},l.rotateMatrix=function(e,t){void 0===t&&(t=!0);for(var n=e.length,o=[],i=0;i<n;i++)o.push([]);for(var r=0;r<n;r++)for(var a=0;a<n;a++)t?o[a][n-1-r]=e[r][a]:o[n-1-a][r]=e[r][a];return o},l.vec2ToVec3=function(e){return this.vec3Reusable.set(e.x,e.y,0),this.vec3Reusable},a(t,null,[{key:"ins",get:function(){return t._ins||(t._ins=new t),t._ins}}]),t}(m))._ins=void 0,D=t((w=W).prototype,"selection_container",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(w.prototype,"select1",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(w.prototype,"select2",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(w.prototype,"select3",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(w.prototype,"tempBlock",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(w.prototype,"material",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(w.prototype,"defaultmaterial",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=w))||H));l._RF.pop()}}}));

System.register("chunks:///_virtual/ui.base.ts",["./rollupPluginModLoBabelHelpers.js","cc","./lib.b.data.ts","./ui.origin.ts"],(function(t){var e,i,o,n,l,a;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){o=t.cclegacy,n=t._decorator},function(t){l=t.DataProxy},function(t){a=t.UI}],execute:function(){var r;o._RF.push({},"6baf4IzWyNGargGzVTEUxgx","ui.base",void 0);var c=n.ccclass;n.property,t("BaseUI",c(r=function(t){function o(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this).__listen_list__=[],e.__ui_loaded=void 0,e.call_cache=[],e.__late_call_list__=[],e.follow=l.follow,e.hasFollow=l.hasFollow,e.cancel=l.cancel,e.outFollow=l.out,e.monitor=l.monitor,e.freeMonitor=l.free,e.revokeProxy=l.revoke,e.proxy=l.proxy,e.hasProxy=l.hasProxy,e}e(o,t);var n=o.prototype;return n.listening=function(){return[]},n.closeListen=function(){this.__listen_list__.forEach((function(t){return l.cancel(t)})),mtec.array.clear(this.__listen_list__)},n.onLoad=function(){var e=this;this.__ui_loaded=!1,t.prototype.onLoad.call(this),this.__listen_list__=this.listening(),this.__ui_loaded=!0,this.call_cache.forEach((function(t){var i=t[0],o=t[1];t[2].resolve(Reflect.apply(i,e,o))})),mtec.array.clear(this.call_cache)},n.onDestroy=function(){this.closeListen()},n.call_func=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];if(this.ui_loaded)return Reflect.apply(t,this,i);var n=new mtec.NudityPromise;return this.call_cache.push([t,i,n]),n.promise},n.lateUpdate=function(t){if(this.__late_call_list__.length>0){var e=this.__late_call_list__.pop(),i=e[0],o=e[1],n=e[2];"function"==typeof n?n(i.apply(void 0,o),o):i.apply(void 0,o)}},n.frameLateCall=function(t,e,i){this.__late_call_list__.unshift([t,e,i])},n.frameWhile=function(t,e){var i=this;return new Promise((function(o){return t.forEach((function(n,l,a){return i.frameLateCall(e,[n,l,t],(function(e,i){i[0];var n=i[1];i[2];return n==t.length-1?o(0):void 0}))}))}))},i(o,[{key:"ui_loaded",get:function(){return this.__ui_loaded}}]),o}(a))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.origin.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e,i,c,r,o,a,_,s,l,u,h;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,c=n.assertThisInitialized,r=n.createClass},function(n){o=n.cclegacy,a=n._decorator,_=n.SpriteFrame,s=n.Canvas,l=n.Button,u=n.warn,h=n.Component}],execute:function(){var p,f,m,d;o._RF.push({},"50c20L8CA1Pf5cDhjClynlD","ui.origin",void 0);var v=a.ccclass,g=a.property;n("UI",(p=g([_]),v((d=t((m=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return(t=n.call.apply(n,[this].concat(r))||this)._click_event_={},t.__handle=null,t.__btn_map__=new Map,t.smap=new Map,i(t,"sframe",d,c(t)),t}e(t,n),t.getDepth=function(n){return n.getComponent(s)?0:this.getDepth(n.parent)+1};var o=t.prototype;return o.__ButtonBindCall=function(){var n=this;this.__handle=mtec.cc.creatEventHandle({target:this.node,component:this.comp_name,handler:"__ClickButton"}),this.node.getComponentsInChildren(l).filter((function(e){var i=!1;if(0===e.clickEvents.length)i=!0;else{var c=[[],[]],r=c[0],o=c[1];if(e.clickEvents.forEach((function(n){"__ClickButton"===n.handler?o.push(n):r.push(n)})),0===o.length&&n._click_event_[e.node.name])i=!0;else if(o.length>0){var a=n.depth;n._click_event_[e.node.name]&&(a+=1e4);var _=o.map((function(n){var i=n.target.getComponent(t),c=i.depth;return i._click_event_[e.node.name]&&(c+=1e4),{h:n,p:c}})).sort((function(n,t){return n.p-t.p})).pop();_.p<=a?i=!0:o.splice(o.indexOf(_.h),1),o.forEach((function(n){return e.clickEvents.splice(e.clickEvents.indexOf(n),1)}))}}return i})).forEach((function(t){t.clickEvents.push(n.__handle),n.__btn_map__.set(t.node.name,t)}))},o.__ClickButton=function(n){var t=n.currentTarget,e=t.getComponent(l),i=Reflect.get(this._click_event_,t.name);t.name in this._click_event_?Reflect.apply(i,this,[e]):this.ClickBtn(e)},o.ClickBtn=function(n){n.interactable,u("<"+this.comp_name+"> 按钮["+n.node.name+"]未被初始化")},o.interactable=function(n){this.__btn_map__.forEach((function(t){return t.interactable=n}))},o.__init=function(){var n=this;this._click_event_.__common||(this._click_event_.__common=function(){}.bind(this)),this.__ButtonBindCall(),this.sframe.length>0&&(this.sframe.forEach((function(t){return n.smap.set(t.name,t)})),this.sframe=void 0),this.initAfterOnLoad&&this.initAfterOnLoad()},o.initAfterOnLoad=function(){},o.onLoad=function(){this.__init()},r(t,[{key:"depth",get:function(){return t.getDepth(this.node)}},{key:"comp_name",get:function(){return new RegExp("(?<=<)(?<comp_name>[\\w, \\W]+)(?=>)","g").exec(this.name).groups.comp_name}}]),t}(h)).prototype,"sframe",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=m))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/ui.pop-up.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ui.base.ts"],(function(e){var t,s,o,n,i,r,c,l;return{setters:[function(e){t=e.inheritsLoose,s=e.createClass},function(e){o=e.cclegacy,n=e._decorator,i=e.Tween,r=e.tween,c=e.v3},function(e){l=e.BaseUI}],execute:function(){var u;o._RF.push({},"691eesopsZIQreOZK+igPs9","ui.pop-up",void 0);var a=n.ccclass;n.property,e("BasePopUp",a(u=function(e){function o(){for(var t,s=arguments.length,o=new Array(s),n=0;n<s;n++)o[n]=arguments[n];return(t=e.call.apply(e,[this].concat(o))||this).npromise=void 0,t.closed=void 0,t.pop=void 0,t}t(o,e);var n=o.prototype;return n.promise=function(){return this.closed=!1,this.npromise=new mtec.NudityPromise,this.npromise.promise},n.close=function(e){this.closed||(this.closed=!0,this.onClose(e),void 0!==e?this.npromise.resolve(e):this.npromise.reject(this.default_return),this.npromise=void 0)},n.closeFromOutside=function(){this.close(this.default_return)},n.show=function(e){this.pop=e,this.node.active=!0;for(var t=arguments.length,s=new Array(t>1?t-1:0),o=1;o<t;o++)s[o-1]=arguments[o];return this.call_func.apply(this,[this.onShow].concat(s)),this.promise()},n.onClose=function(e){},o.jelly_enter=function(e,t){var s,o=new mtec.NudityPromise;return i.stopAllByTarget(e),t=null!=(s=t)?s:.5,r(e).set({scale:c(.8,.8,1)}).to(t,{scale:c(1,1,1)},{easing:"elasticOut"}).set({scale:c(1,1,1)}).call((function(){return o.resolve(e)})).start(),o.promise},o.jelly_leave=function(e,t){var s,o=new mtec.NudityPromise;return i.stopAllByTarget(e),t=null!=(s=t)?s:.25,r(e).to(t,{scale:c(.8,.8,1)},{easing:"backIn"}).set({scale:c(.8,.8,1)}).call((function(){return o.resolve(e)})).start(),o.promise},s(o,[{key:"is_close",get:function(){return null==this.npromise}}]),o}(l))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/Url.ts",["cc"],(function(e){var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"aa76cW4GxZLkLmpDV2STBbP","Url",void 0);e("Url",{PREFAB:{TIP:"prefab/tip/Tip"},ATLAS:{EN:"texture/localizedImage/en/AutoAtlas",ZH:"texture/localizedImage/zh/AutoAtlas"},AUDIO:{BGM:"audio/UI_01",SFX2:"audio/UI_02",SFX3:"audio/UI_03",SFX4:"audio/UI_04",SFX5:"audio/UI_05",SFX6:"audio/UI_06",SFX7:"audio/UI_07",SFX8:"audio/UI_08",SFX9:"audio/UI_09",SFX10:"audio/UI_10",SFX11:"audio/UI_11",SFX12:"audio/UI_12",SFX17:"audio/UI_17",SFX18:"audio/UI_18",SFX19:"audio/UI_19",SFX20:"audio/UI_20",SFX21:"audio/UI_21",SFX30:"audio/sfx2"},BLOCK:{BLUE:"texture/blockba/blue",DEEPBLUE:"texture/blockba/deepblue",GREEN:"texture/blockba/green",ORANGE:"texture/blockba/orange",PURPLE:"texture/blockba/purple",RED:"texture/blockba/red",YELLOW:"texture/blockba/yellow"}}),e("DirUrl",{PREFAB:"prefab/",PREFAB_DIALOG:"prefab/dialog/",ATLAS:"atlas/",TEXTURE:"texture/",AUDIO:"audio/"});a._RF.pop()}}}));

System.register("chunks:///_virtual/Util.ts",["cc"],(function(a){var r,n,t,e;return{setters:[function(a){r=a.cclegacy,n=a.Vec3,t=a.math,e=a.Quat}],execute:function(){function o(a,r){if(a.lengthSqr()>r*r){var t=new n;return n.normalize(t,a),t.multiplyScalar(r),t}return a}function i(a,r){var e=t.toRadian(a);return new n(r*Math.cos(e),r*Math.sin(e),0)}a({calcPunchData:function(a,r,e,i,c){t.clamp01(c);var u=r.length(),l=Math.round(i*e);l<2&&(l=2);for(var f=u/l,s=[],v=0,d=0;d<l;d++){var m=e*((d+1)/l);v+=m,s[d]=m}var g=e/v;s=s.map((function(a){return a*g}));for(var h=[],p=0;p<l;p++){if(p<l-1)if(0===p)h[p]=n.add(new n,a,r);else if(p%2!=0){var x=o(r,u*c);x.negative(),h[p]=x.add(a)}else{var y=o(r,u);h[p]=y.add(a)}else h[p]=a;u-=f}return{tos:h,durations:s}},calcShakeData:function(a,r,c,u,l,f,s,v){var d=s?c.length():c.x,m=Math.floor(u*r);m<2&&(m=2);for(var g=d/m,h=[],p=0,x=0;x<m;x++){var y=(x+1)/m,R=v?r*y:r/m;p+=R,h[x]=R}var z=r/p;h=h.map((function(a){return a*z}));for(var M=t.randomRange(0,360),S=[],w=0;w<m;w++)if(w<m-1){var Q=new e;if(w>0&&(M=M-180+t.randomRange(-l,l)),s){var A=i(M,d);n.transformQuat(A,A,Q),A.x=o(A,c.x).x,A.y=o(A,c.y).y,A.z=o(A,c.z).z,A.normalize().multiplyScalar(d),S[w]=A.add(a),v&&(d-=g),c=o(c,d)}else{if(f)S[w]=i(M,d).add(a);else{e.fromAxisAngle(Q,n.UP,t.randomRange(-l,l));var D=i(M,d);n.transformQuat(D,D,Q),S[w]=D.add(a)}v&&(d-=g)}}else S[w]=a;return{tos:S,durations:h}},clampLength:o,vec3FromAngle:i}),r._RF.push({},"c427cVKhMtD6bQgnjxsaj+g","Util",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/virtual.client.ts",["./rollupPluginModLoBabelHelpers.js","cc","./frame.config.ts","./NativeClient.ts"],(function(){var e,t,r,n,a,i;return{setters:[function(t){e=t.inheritsLoose},function(e){t=e.cclegacy},function(e){r=e.AFFIX_REGEXP,n=e.AFFIX_TEMPLATE},function(e){a=e.default,i=e.NativeClientIns}],execute:function(){t._RF.push({},"9a23fj51XxP2Z9Xt8ACvG78","virtual.client",void 0);var o=function(t){function a(){return t.apply(this,arguments)||this}e(a,t);var i=a.prototype;return i.callStaticMethod=function(e,t){a.request(e,t)},i.onReceiveMessage=function(e){a.receive_call_list.push(e)},a.request=function(e,t){e=e.replace(r,"$1"),a.virtualFunc(e,JSON.stringify(t))},a.response=function(e,t){e=n.replace("key",e);var r=JSON.parse(t);a.receive_call_list.forEach((function(t){return t(e,r)}))},a.formatResponse=function(e){var t=[];for("object"!=typeof e||Array.isArray(e)||t.unshift(e);t.length>0;){var r=t.pop();if(Array.isArray(r))r.forEach((function(e){"object"==typeof e&&t.push(e)}));else if(r)for(var a=0,i=Object.entries(r);a<i.length;a++){var o=i[a],c=o[0],s=o[1];"object"==typeof s&&t.push(s),Reflect.deleteProperty(r,c),Reflect.set(r,n.replace("key",c),s)}}return e},a.parseRequest=function(e){var t=[];for("object"!=typeof e||Array.isArray(e)||t.unshift(e);t.length>0;){var n=t.pop();if(Array.isArray(n))n.forEach((function(e){"object"==typeof e&&t.push(e)}));else if(n)for(var a=0,i=Object.entries(n);a<i.length;a++){var o=i[a],c=o[0],s=o[1];"object"==typeof s&&t.push(s),Reflect.deleteProperty(n,c),Reflect.set(n,c.replace(r,"$1"),s)}}return e},a.virtualFunc=function(e,t){if(Reflect.has(a,e)){var r=JSON.parse(t);a.parseRequest(r);var n=Reflect.apply(Reflect.get(a,e),a,[Object.assign({},r)]);n&&(a.formatResponse(n),a.response(e,JSON.stringify(n)))}},a.setRESData=function(e,t){Reflect.set(e,"data",t)},a.AD=function(e){return a.setRESData(e,{status:"ad-over"}),e},a.LocalLanguage=function(e){return a.setRESData(e,{countryCode:"CN",languageCode:"zh"}),e},a.Link=function(e){window.open(e.data.url)},a.device_id=function(e){var t=localStorage.getItem("VIRTUAL-DEVICE-ID");return t||(t="<chrome-virtual>["+(t=[8,4,4,4,12].map((function(e){return mtec.string.random(e,16).toUpperCase()})).join("-"))+"]",localStorage.setItem("VIRTUAL-DEVICE-ID",t)),a.setRESData(e,{device_id:t}),e},a.fruit=function(){},a.float=function(){},a.set_clipboard=function(e){mtec.log.tag("设置剪贴板: green;",e.data.text)},a}(i);o.receive_call_list=[],a.initClient(new o),t._RF.pop()}}}));

System.register("chunks:///_virtual/Zh.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"5cb62aDaJtA4pHlrSAKjTY2","Zh",void 0);e("default",{guide_Rtext_1:"<color = #855933><b>拖动方块，填满即可消除</color>",home_curscore_text:"我的得分:  ",home_hisscore_text:"历史最高:  ",home_todscore_text:"今日最高:  ",pop_gameoverpage_title_text:"游戏结束",pop_gameoverpage_word1_text:"刷新纪录！",pop_gameoverpage_word2_text:"再接再厉！",pop_gameoverpage_btn1_text:"复活",pop_gameoverpage_btn2_text:"放弃复活，重新开始",game_tip_noblock:"场上没有多余块",pop_settingpage_title_text:"设置",pop_settingpage_music_text:"音效",pop_settingpage_vibrate_text:"音乐"});t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});